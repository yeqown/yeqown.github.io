<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://www.yeqown.xyz/tags/Golang/">
  <meta property="og:site_name" content="Yeqown">
  <meta property="og:title" content="Golang">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<title>Golang | Yeqown</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://www.yeqown.xyz/tags/Golang/">
<link rel="stylesheet" href="/book.min.c2fbf3db843e2f212ac724c116ea0973ae0c44d9926b1c14e16b29de812a6dc5.css" integrity="sha256-wvvz24Q&#43;LyEqxyTBFuoJc64MRNmSaxwU4Wsp3oEqbcU=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.f17080086de35ea2d8ae7bbe8fd7dfab7183b485730a9353be99f4f0986495e5.js" integrity="sha256-8XCACG3jXqLYrnu&#43;j9ffq3GDtIVzCpNTvpn08JhkleU=" crossorigin="anonymous"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade"><link rel="alternate" type="application/rss+xml" href="https://www.yeqown.xyz/tags/Golang/index.xml" title="Yeqown" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Yeqown</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>







  
<ul>
  
  <li>
    <a href="/categories"  target="_blank" rel="noopener">
        Categories
      </a>
  </li>
  
  <li>
    <a href="/tags"  target="_blank" rel="noopener">
        Tags
      </a>
  </li>
  
</ul>










  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aboutme/" class="">About Me</a>
  

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Golang</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%80%BB%E7%BB%93/">æ€»ç»“</a>
          <span>33</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%9E%B6%E6%9E%84/">æ¶æ„</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Golang/">Golang</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Kubernetes/">Kubernetes</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Service-Mesh/">Service Mesh</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/design/">Design</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Tracing/">Tracing</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/DevOps/">DevOps</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Test/">Test</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">å¸¸ç”¨å‘½ä»¤</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/tags/Victoria-Logs/">Victoria Logs</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%97%E5%BC%8F%E5%AD%98%E5%82%A8/">åˆ—å¼å­˜å‚¨</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%AD%98%E5%82%A8/">å­˜å‚¨</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%97%A5%E5%BF%97/">æ—¥å¿—</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/GC/">GC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Golang/">Golang</a>
          <span>30</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Green-Tea/">Green Tea</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Debezium/">Debezium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Incremental-Snapshot/">Incremental Snapshot</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka-Connect/">Kafka Connect</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Mongodb/">Mongodb</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Source-Connector/">Source Connector</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Apache-Doris/">Apache Doris</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MySQL/">Mysql</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Prepared-Statements/">Prepared Statements</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka/">Kafka</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MirrorMaker2/">MirrorMaker2</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Replication/">Replication</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Javascript/">Javascript</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/python/">Python</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rust/">Rust</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WASM/">WASM</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WebAssembly/">WebAssembly</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/gRPC/">GRPC</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/grpcreplay/">Grpcreplay</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Istio/">Istio</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kubernetes/">Kubernetes</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/sidecar/">Sidecar</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/traffic-mirror/">Traffic Mirror</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%8D%8F%E8%AE%AE/">åè®®</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Doris/">Doris</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/FoundationDB/">FoundationDB</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB/">å­˜ç®—åˆ†ç¦»</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memcached/">Memcached</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rendezvous-Hashing/">Rendezvous Hashing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcpdump/">Tcpdump</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/wireshark/">Wireshark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/APISIX/">APISIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CDC/">CDC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DMS/">DMS</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pyroscope/">Pyroscope</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShardingSphere-Proxy/">ShardingSphere Proxy</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/shardingsphere/">Shardingsphere</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">åˆ†åº“åˆ†è¡¨</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Envoy/">Envoy</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/kubenertes/">Kubenertes</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/service-mesh/">Service Mesh</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MQ/">MQ</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/multi-raft/">Multi-Raft</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/nats/">Nats</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/raft/">Raft</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fsnotify/">Fsnotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/inotify/">Inotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/linux/">Linux</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/c/">C</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/lua/">Lua</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/redis/">Redis</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/exec/">Exec</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fork/">Fork</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Graceful-Restart/">Graceful Restart</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcp/">TCP</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Cloudflare/">Cloudflare</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/SSH/">SSH</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tunnel/">Tunnel</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CGO/">CGO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/POSIX/">POSIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CronJob/">CronJob</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed/">Distributed</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/k8s/">K8s</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Fieldmask/">Fieldmask</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/protocol-buffers/">Protocol-Buffers</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/OpenTelemetry/">OpenTelemetry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Sentry/">Sentry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tools/">Tools</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Load-Balancing/">Load Balancing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker/">Docker</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E9%95%9C%E5%83%8F/">é•œåƒ</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jaeger/">Jaeger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Opentracing/">Opentracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tracing/">Tracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Channel/">Channel</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/goim/">Goim</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Gin/">Gin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memory-leak/">Memory Leak</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/pprof/">Pprof</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hashtable/">Hashtable</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/im/">Im</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/socket.io/">Socket.io</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/cache/">Cache</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/repository/">Repository</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/AMQP/">AMQP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Network/">Network</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Ring-Buffer/">Ring Buffer</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Caching/">Caching</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU/">LRU</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU-K/">LRU-K</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Crypto/">Crypto</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RC4/">RC4</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/snowflake/">Snowflake</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hot-reload/">Hot-Reload</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Swagger/">Swagger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/QR-Code/">QR Code</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/etcd/">Etcd</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/microservice/">Microservice</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0/">æœåŠ¡æ³¨å†Œå‘ç°</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DTO/">DTO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/HTTP/">HTTP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Note/">Note</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/api-gateway/">Api-Gateway</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/round-robin/">Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/weighted-round-robin/">Weighted-Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/JSON-RPC2.0/">JSON-RPC2.0</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RPC/">RPC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/App/">App</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RN/">RN</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Spider/">Spider</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CD/">CD</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CI/">CI</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jenkins/">Jenkins</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed-Architecture/">Distributed Architecture</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/aliyun/">Aliyun</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/rds/">Rds</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Trie/">Trie</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Dynamic-Programming/">Dynamic Programming</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Levenshtein-Distance/">Levenshtein Distance</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShortURL/">ShortURL</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/drone/">Drone</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker-compose/">Docker Compose</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/selenium/">Selenium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Test/">Test</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pytest/">Pytest</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Git/">Git</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/database/">Database</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/index/">Index</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-post">
    <h2>
      <a href="/2020/04/13/channel-in-Go%E5%B0%8F%E7%BB%93/">Channel in Goå°ç»“</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>April 13, 2020</span>
  </div>



  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/Channel/">Channel</a>
  </div>
  


    <p><p>åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¦‚æœæƒ³è¦åœ¨çº¿ç¨‹ä¸­é€šä¿¡ï¼Œæœ€å¸¸ç”¨çš„æ‰‹æ®µæ˜¯å…±äº«å†…å­˜ã€‚ç„¶è€Œè€ƒè™‘åˆ°çº¿ç¨‹å†²çªé—®é¢˜ï¼Œä¸å¾—ä¸è€ƒè™‘åŠ é”ï¼Œä»¥ä¿è¯å¹¶å‘å®‰å…¨ï¼ŒåŠ é”ä¹Ÿä¸€å®šä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ï¼Œå¯¹æ€§èƒ½äº§ç”Ÿå½±å“ã€‚</p>
<h3 id="cspæ¨¡å‹">
  CSPæ¨¡å‹
  <a class="anchor" href="#csp%e6%a8%a1%e5%9e%8b">#</a>
</h3>
<blockquote>
<p>åœ¨ Go è¯­è¨€ä¸­ä¹Ÿèƒ½ä½¿ç”¨å…±äº«å†…å­˜åŠ äº’æ–¥é”è¿›è¡Œé€šä¿¡ï¼Œä½†æ˜¯ Go è¯­è¨€æä¾›äº†ä¸€ç§ä¸åŒçš„å¹¶å‘æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯é€šä¿¡é¡ºåºè¿›ç¨‹ï¼ˆCommunicating sequential processesï¼ŒCSPï¼‰1ã€‚Goroutine å’Œ Channel åˆ†åˆ«å¯¹åº” CSP ä¸­çš„å®ä½“å’Œä¼ é€’ä¿¡æ¯çš„åª’ä»‹ï¼ŒGo è¯­è¨€ä¸­çš„ Goroutine ä¼šé€šè¿‡ Channel ä¼ é€’æ•°æ®ã€‚</p>
</blockquote>
<h3 id="ä½¿ç”¨ç¤ºä¾‹">
  ä½¿ç”¨ç¤ºä¾‹
  <a class="anchor" href="#%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b">#</a>
</h3>
<p>åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œéœ€è¦å¯¹channelæœ‰ä¸ªæ•´ä½“çš„å°è±¡ï¼š</p>
<ul>
<li>FIFO (First In First Out)</li>
<li>åˆ†ä¸ºæœ‰ç¼“å†²å’Œæ— ç¼“å†²ä¸¤ç§</li>
<li>åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šé˜»å¡ï¼ˆæ— ç¼“å†²æ—¶ï¼Œåªæ“ä½œè¯»æˆ–å†™ï¼›æœ‰ç¼“å†²å·²æ»¡æ—¶ï¼Œåªæ“ä½œè¯»æˆ–è€…å†™ï¼‰</li>
<li>æ¥å—è€…å’Œå‘é€è€…éƒ½æ˜¯goroutine</li>
</ul>
<p>å‚è€ƒä¸‹å›¾ï¼š</p>
<image src="/images/channel-overview.svg"/>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Q: æœ‰ç¼“å†²å’Œæ— ç¼“å†²åœ¨ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// ch := make(chan int) // æ— ç¼“å†²
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ch</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">1</span>) <span style="color:#75715e">// æœ‰ç¼“å†²ï¼Œå¤§å°ä¸º1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å‘é€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">ch</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="æ³¨æ„äº‹é¡¹">
  æ³¨æ„äº‹é¡¹
  <a class="anchor" href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9">#</a>
</h4>
<p>åœ¨ä½¿ç”¨channelæ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹äº‹é¡¹ï¼š</p>
<table>
  <thead>
      <tr>
          <th>æ“ä½œ\CHçŠ¶æ€</th>
          <th>chä¸ºç©º</th>
          <th>chå·²å…³é—­</th>
          <th>chæ­£å¸¸</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>å‘é€ ch &lt;-</td>
          <td>æ­»é”</td>
          <td>panic</td>
          <td>æˆåŠŸæˆ–é˜»å¡</td>
      </tr>
      <tr>
          <td>æ¥æ”¶ &lt;-ch</td>
          <td>æ­»é”</td>
          <td>æˆåŠŸæˆ–ç©ºå€¼</td>
          <td>æˆåŠŸæˆ–é˜»å¡</td>
      </tr>
      <tr>
          <td>å…³é—­ close(ch)</td>
          <td>panic</td>
          <td>panic</td>
          <td>æˆåŠŸ</td>
      </tr>
  </tbody>
</table>
<p>Q: è¿™é‡Œè€ƒè™‘ä¸‹å¦‚ä½•ä¼˜é›…çš„å…³é—­channel (é¿å…panic)?</p>
        <a href="/2020/04/13/channel-in-Go%E5%B0%8F%E7%BB%93/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2020/01/21/gin%E6%BA%90%E7%A0%81%E7%AE%80%E8%A6%81%E5%88%86%E6%9E%90/">Ginæºç ç®€è¦åˆ†æ</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>January 21, 2020</span>
  </div>



  

  
  <div class="text-small">
    
      <a href="/tags/Gin/">Gin</a>, 
      <a href="/tags/Golang/">Golang</a>
  </div>
  


    <p><h3 id="æ¦‚è¿°">
  æ¦‚è¿°
  <a class="anchor" href="#%e6%a6%82%e8%bf%b0">#</a>
</h3>
<p>é€šè¿‡æ—¥å¸¸å¯¹ginåœºæ™¯å‡ºå‘ï¼Œæ·±å…¥æºç ï¼Œæ€»ç»“ä»‹ç»ginçš„æ ¸å¿ƒè®¾è®¡ã€‚åŒ…å«ï¼šEngine / HandlerFunc / RouterGroup(Router) / Contextã€‚åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­å¸¸è§çš„å°±ä»¥ä¸Šæ¦‚å¿µï¼Œæ±‡æ€»å¦‚ä¸‹ï¼š</p>
<table>
  <thead>
      <tr>
          <th>æ¦‚å¿µ</th>
          <th>è§£é‡Š</th>
          <th>åº”ç”¨æ„ä¹‰</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Engine</td>
          <td>å¼•æ“</td>
          <td>web serverçš„åŸºç¡€æ”¯æŒï¼Œä¹Ÿæ˜¯æœåŠ¡çš„å…¥å£ å’Œ æ ¹çº§æ•°æ®ç»“æ„</td>
      </tr>
      <tr>
          <td>RouterGroup(Router)</td>
          <td>è·¯ç”±</td>
          <td>ç”¨äºæ”¯æŒgin,RESTè·¯ç”±ç»‘å®šå’Œè·¯ç”±åŒ¹é…çš„åŸºç¡€ï¼Œæºäºradix-treeæ•°æ®ç»“æ„æ”¯æŒ</td>
      </tr>
      <tr>
          <td>HandlerFunc</td>
          <td>å¤„ç†å‡½æ•°</td>
          <td>é€»è¾‘å¤„ç†å™¨å’Œä¸­é—´ä»¶å®ç°çš„å‡½æ•°ç­¾å</td>
      </tr>
      <tr>
          <td>Context</td>
          <td>ä¸Šä¸‹æ–‡</td>
          <td>å°è£…äº†è¯·æ±‚å’Œå“åº”çš„æ“ä½œï¼Œä¸ºHandlerFuncçš„å®šä¹‰å’Œä¸­é—´ä»¶æ¨¡å¼æä¾›æ”¯æŒ</td>
      </tr>
  </tbody>
</table>
<h3 id="ä»demoå¼€å§‹">
  ä»DEMOå¼€å§‹
  <a class="anchor" href="#%e4%bb%8edemo%e5%bc%80%e5%a7%8b">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">barForm</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Foo</span> <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`form:&#34;foo&#34; binding:&#34;required&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Bar</span> <span style="color:#66d9ef">int</span>     <span style="color:#e6db74">`form:&#34;bar&#34; binding:&#34;required&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">fooHdl</span> <span style="color:#a6e22e">FooHdl</span>) <span style="color:#a6e22e">Bar</span>(<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Context</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bform</span> = new(<span style="color:#a6e22e">barForm</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">ShouldBind</span>(<span style="color:#a6e22e">bform</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// true: parse form error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// handle biz logic and generate response structure
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// c (gin.Context) methods could called to support process-controling
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">JSON</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusOK</span>, <span style="color:#a6e22e">resp</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// c.String() alse repsonse to client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// mountRouters .
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mountRouters</span>(<span style="color:#a6e22e">engi</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Engine</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// use middlewares
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">engi</span>.<span style="color:#a6e22e">Use</span>(<span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Logger</span>())
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">engi</span>.<span style="color:#a6e22e">Use</span>(<span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">Recovery</span>())
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// mount routers
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">group</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">engi</span>.<span style="color:#a6e22e">Group</span>(<span style="color:#e6db74">&#34;/v1&#34;</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fooHdl</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">demohtp</span>.<span style="color:#a6e22e">New</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">group</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;/foo&#34;</span>, <span style="color:#a6e22e">fooHdl</span>.<span style="color:#a6e22e">Bar</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">group</span>.<span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;/echo&#34;</span>, <span style="color:#a6e22e">fooHdl</span>.<span style="color:#a6e22e">Echo</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// subGroup := group.Group(&#34;/subg&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// subGroup.GET(&#34;/hdl1&#34;, fooHdl.SubGroupHdl1) // æœ€ç»ˆè·¯ç”±ï¼š&#34;targetURI = /v1/subg/hdl1&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">engi</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">gin</span>.<span style="color:#a6e22e">New</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mountRouters</span>(<span style="color:#a6e22e">engi</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">engi</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#e6db74">&#34;:8080&#34;</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;engi exit with err=%v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>é€šè¿‡ä¸Šè¿°çš„ä»£ç å°±ç®€å•å¼€å¯äº†ä¸€ä¸ªgin serverï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†å¸¸è§çš„ï¼šè·¯ç”±æ³¨å†Œï¼Œä¸­é—´ä»¶æ³¨å†Œï¼Œè·¯ç”±åˆ†ç»„ï¼ŒæœåŠ¡å¯åŠ¨ã€‚æ ¸å¿ƒæ¦‚å¿µä¹Ÿå°±æ˜¯åˆšåˆšåœ¨ä¸Šæ–‡æåˆ°çš„é‚£å››ä¸ªæ¦‚å¿µã€‚æ¦‚è§ˆæµç¨‹å¦‚ä¸‹å›¾ï¼š</p>
        <a href="/2020/01/21/gin%E6%BA%90%E7%A0%81%E7%AE%80%E8%A6%81%E5%88%86%E6%9E%90/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2020/01/17/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%8E%92%E6%9F%A5gRPC%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E5%AF%BC%E8%87%B4%E7%9A%84goroutine%E6%B3%84%E6%BC%8F/">ä¸€æ¬¡gRPCä½¿ç”¨ä¸å½“å¯¼è‡´goroutineæ³„æ¼æ’æŸ¥è®°å½•</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>January 17, 2020</span>
  </div>



  

  
  <div class="text-small">
    
      <a href="/tags/gRPC/">GRPC</a>, 
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/pprof/">Pprof</a>, 
      <a href="/tags/memory-leak/">Memory Leak</a>
  </div>
  


    <p><blockquote>
<p>ç”±äºä¿ç•™å¿…è¦çš„â€œç½ªè¯â€ï¼Œå› æ­¤æŸäº›å¼‚å¸¸åªèƒ½é€šè¿‡æ–‡å­—æ¥æè¿°äº†ï½</p>
</blockquote>
<h3 id="èƒŒæ™¯">
  èƒŒæ™¯
  <a class="anchor" href="#%e8%83%8c%e6%99%af">#</a>
</h3>
<p>æ˜¨æ™šä¸Š10ç‚¹å·¦å³ï¼Œå‰ç«¯ç«¥é‹åæ˜ å¼€å‘ç¯å¢ƒæ¥å£å“åº”è¶…æ—¶ï¼Œä½†è¿‡äº†å‡ åˆ†é’Ÿååˆæ¢å¤äº†ï¼Œäºæ˜¯æœ‰äº†è¿™ä¸€ç¯‡æ–‡ç« ã€‚</p>
<blockquote>
<p>å…¶å®å¾ˆä¹…ä»¥å‰å°±å‡ºç°äº†å†…å­˜å ç”¨å¼‚å¸¸çš„æƒ…å†µï½ï¼Œåªæ˜¯å ç”¨å¹¶ä¸é«˜ä¹Ÿå°±æ˜¯50MBå·¦å³ï¼ŒåŠ ä¸Šå½“æ—¶è¿˜å¿™ç€å†™ä¸šåŠ¡éœ€æ±‚å°±æ²¡æœ‰æ€¥ç€åŠ ä¸Špprofæ¥æ£€æŸ¥ã€‚</p>
</blockquote>
<p>é¦–å…ˆé€šè¿‡<code>è¿ç»´å¹³å°(k8s based)</code>ç›´è§‚å‘ç°äº†è¯¥podæ•°é‡ä»1å˜æˆäº†2, å†ç»“åˆæ–°å¢podçš„å¯åŠ¨æ—¶é—´ï¼Œæˆ‘å‘ç°è¯¥æ—¶é—´æ­£å¥½æ˜¯å‰ç«¯ç«¥é‹åæ˜ çŠ¶å†µçš„æ—¶é—´èŠ‚ç‚¹ï¼Œç¨åæˆ‘æ£€æŸ¥äº†ä¸‹è¯¥æœåŠ¡çš„èµ„æºé™åˆ¶å¦‚ä¸‹å›¾ï¼š</p>
<img src="/images/pprof-goroutine-leak-1.png"/>
<p>é‚£ä¹ˆå‰ç«¯ç«¥é‹åæ˜ çš„é—®é¢˜å°±å¾ˆæ˜æ˜¾äº†ï¼Œç”±äºæŸç§åŸå› å¯¼è‡´äº†podå†…å­˜è¶…é™ï¼Œè§¦å‘äº†è¿ç»´å¹³å°å¯¹äºå†…å­˜è¶…é™çš„â€œå®¹å¿æœºåˆ¶â€ã€‚è¡¨ç°ä¸º: æ–°å¢ä¸€ä¸ªpodç”¨äºç¼“è§£æœåŠ¡å‹åŠ›ï¼Œè€æœåŠ¡ç”±äºæ— æ³•ç”³è¯·æ›´å¤šå†…å­˜ä¼šå¯¼è‡´å´©æºƒæˆ–å…¶ä»–å¼‚å¸¸ï¼ˆæ— æ³•å“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼‰ï¼Œè¿™ä¸åæ˜ çš„æƒ…å†µä¸€è‡´ã€‚</p>
<img src="/images/pprof-goroutine-leak-3.png"/>
<h3 id="pprofæ’æŸ¥">
  pprofæ’æŸ¥
  <a class="anchor" href="#pprof%e6%8e%92%e6%9f%a5">#</a>
</h3>
<p>çŸ¥é“äº†æœåŠ¡å†…å­˜å¼‚å¸¸ï¼Œæƒ³è¦å…·ä½“å®šä½çš„è¯ï¼Œè¿™æ—¶å€™å°±éœ€è¦pprofä¸Šåœºäº†ã€‚</p>
<blockquote>
<p>å¦‚æœä½ éœ€è¦é‡å¯æœåŠ¡æ‰èƒ½å¼€å¯pprofçš„è¯ï¼Œé‚£ä¹ˆåªèƒ½ç­‰å¾…å¤ç°äº†ã€‚è¿™é‡Œæˆ‘åœ¨å¼€å‘ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒä¸€ç›´å¼€å¯äº†pprofï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ£€æŸ¥ã€‚ä¸ªäººè§‰å¾—ï¼Œè¿™æ ·è¿˜å¯ä»¥å¸®åŠ©å¼€å‘å’Œæµ‹è¯•ï¼Œå®Œæˆæœ€åˆçš„æ€§èƒ½åˆ†æğŸ˜¼ã€‚</p>
</blockquote>
<h4 id="å†…å­˜æ£€æŸ¥">
  å†…å­˜æ£€æŸ¥
  <a class="anchor" href="#%e5%86%85%e5%ad%98%e6%a3%80%e6%9f%a5">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>go tool pprof --http<span style="color:#f92672">=</span>:8080 https://service.host.com/debug/pprof/heap
</span></span></code></pre></div><p>è¿™ä¸ªå‘½ä»¤æ˜¯åœ¨æœ¬åœ°æ‰“å¼€ä¸€ä¸ªwebæœåŠ¡ï¼Œç›´æ¥å¯è§†åŒ–è¯¥æœåŠ¡çš„å†…å­˜å ç”¨æƒ…å†µã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨:</p>
<p><code>go tool pprof https://service.host.com/debug/pprof/heap</code> ä½¿ç”¨äº¤äº’æ¨¡å¼æ¥åˆ†æã€‚é€šè¿‡è¿™ä¸ªæ­¥éª¤å®šä½åˆ°äº† grpcç›¸å…³çš„åŒ…å†…å­˜å ç”¨å¼‚å¸¸åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<pre tabindex="0"><code>50MB+ google.golang.org/grpc/internal/transport.newBufWriter
50MB+ bufio.NewReaderSize
http2 ç›¸å…³åº“çš„å ç”¨ä¹Ÿæ¯”è¾ƒå¤š
</code></pre><p>è¿™ä¸€åˆ‡éƒ½æŒ‡å‘äº†æˆ‘ä»¬ä½¿ç”¨çš„gRPCï¼Œå¯æ˜¯ä¸ºå•¥ä½¿ç”¨gRPCä¼šç”¨åˆ°è¿™ä¹ˆâ€œå¤šâ€å†…å­˜å‘¢ï¼Ÿæ¥ç€åˆ†æ</p>
<h4 id="goroutineæ£€æŸ¥">
  goroutineæ£€æŸ¥
  <a class="anchor" href="#goroutine%e6%a3%80%e6%9f%a5">#</a>
</h4>
<p>æ‰“å¼€ä¸€çœ‹ <strong><a href="https://service.host.com/debug/pprof/">https://service.host.com/debug/pprof/</a><strong>ä¸€çœ‹ï¼Œgoroutineå’Œheapå±…â€œé«˜â€(4000+)ä¸ä¸‹ï¼Œè™½ç„¶å¯¹äºåŠ¨è¾„10W+çš„åˆ«äººå®¶çš„æœåŠ¡æ¥è¯´ï¼Œè¿™ç‚¹æ ¹æœ¬ä¸ç®—äº‹ï¼Œä½†åœ¨æˆ‘ä»¬è¿™ç§å°ä½œåŠé‡Œå¯å°±ç®—å¼‚å¸¸äº†ã€‚ç‚¹å¼€çœ‹goroutineæŸ¥çœ‹è¯¦æƒ…ï¼Œæœ‰å››ä¸ªéƒ¨åˆ†çš„goroutineåˆ†åˆ«æœ‰900ä¸ªå·¦å³ï¼Œè¿™é‡Œå°±ç®—åˆæ­¥å®šä½äº†</strong>â€œgRPCå®¢æˆ·ç«¯ä½¿ç”¨äº†è¾ƒå¤šçš„goroutineï¼Œä½†æ˜¯å´æ²¡æœ‰æ­£ç¡®çš„ç»“æŸæ‰â€</strong>ï¼Œå¦‚ä¸‹å›¾ï¼ˆè¿™æ˜¯è§£å†³åçš„æˆªçš„å›¾ï¼‰ï¼š</p>
<img src="/images/pprof-goroutine-leak-2.jpg"/>
<h4 id="pprofæ€»ç»“">
  pprofæ€»ç»“
  <a class="anchor" href="#pprof%e6%80%bb%e7%bb%93">#</a>
</h4>
<p>æœåŠ¡ä¸­ä½¿ç”¨çš„gRPCå®¢æˆ·ç«¯å‡ºäº†æŸäº›æ•…éšœï¼Œå¯¼è‡´äº†goroutineæ³„æ¼ï¼Œå¼•å‘äº†OOMï¼ˆOut Of Memoryï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<img src="/images/pprof-goroutine-leak-3.png"/>
<h3 id="ä»£ç æ’æŸ¥">
  ä»£ç æ’æŸ¥
  <a class="anchor" href="#%e4%bb%a3%e7%a0%81%e6%8e%92%e6%9f%a5">#</a>
</h3>
<p>ä¸Šä¸€æ­¥å·²ç»å®šä½åˆ°æ˜¯gRPCå®¢æˆ·ç«¯çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥ä»ä»£ç ä¸Šæ‰‹äº†ã€‚æˆ‘å¿ƒé‡Œå·²ç»æœ‰ä¸€ä¸ªâ€œå«Œç–‘çŠ¯â€äº†ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">defaultHandler</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">timeout</span>        = <span style="color:#ae81ff">5</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// _              pb.UserServiceClient = &amp;handler{}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Init of usersvc.handler
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Init</span>(<span style="color:#a6e22e">rpcAddr</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ... ç•¥å»ä¸è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">handler</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// rpc configs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">rpcAddr</span>          <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">client</span>           <span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">UserServiceClient</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">lastGrpcReqError</span> <span style="color:#66d9ef">error</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">h</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">handler</span>) <span style="color:#a6e22e">connectRPC</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">client</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">lastGrpcReqError</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// è¿™é‡Œåˆ¤æ–­çš„æœ¬æ„æ˜¯ï¼šå¦‚æœå®¢æˆ·ç«¯åˆå§‹åŒ–å¤±è´¥ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// æˆ–è€…æœŸé—´å› ä¸ºå¼‚å¸¸æƒ…å†µï¼Œå¯¼è‡´å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿æ¥ä¸­æ–­çš„æƒ…å†µä¸‹å°è¯•é‡è¿ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// ä½†æ˜¯å¿½ç•¥äº†gRPCå®ç°ä¸­ï¼Œå¯¹äºå®¢æˆ·ç«¯çš„å¤„ç†ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// 1. grpc.Dail æ˜¯å¼‚æ­¥çš„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// 2. grpc æœ‰è‡ªå·±çš„é‡è¿æœºåˆ¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// è¿™ä¸€éƒ¨åˆ†æˆ‘è¿˜æ²¡æœ‰çœ‹å®Œï¼Œå°±ä¸ä¹±å‘è¡¨çœ‹æ³•äº†ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">conn</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">grpc</span>.<span style="color:#a6e22e">Dial</span>(<span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">rpcAddr</span>, <span style="color:#a6e22e">grpc</span>.<span style="color:#a6e22e">WithInsecure</span>())
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">Std</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;could not dial: %s with err: %v&#34;</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">rpcAddr</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">Std</span>.<span style="color:#a6e22e">Infof</span>(<span style="color:#e6db74">&#34;usersvc.client.connectRPC called&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">client</span> = <span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">NewUserServiceClient</span>(<span style="color:#a6e22e">conn</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// QueryBasicInfoByID based default Handler .
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">QueryBasicInfoByID</span>(<span style="color:#a6e22e">in</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">ByIDForm</span>) (<span style="color:#f92672">*</span><span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">BasicInfoResponse</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">defaultHandler</span>.<span style="color:#a6e22e">connectRPC</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">cancel</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">WithTimeout</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">timeout</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">cancel</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">defaultHandler</span>.<span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">QueryBasicInfoByID</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">in</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">defaultHandler</span>.<span style="color:#a6e22e">lastGrpcReqError</span> = <span style="color:#a6e22e">err</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æŠ›å¼€æœ¬æ„ä¸è°ˆï¼Œè¿™æ ·çš„å†™æ³•ä¹Ÿæ˜¯ä¸OKçš„ã€‚ã€‚ã€‚å› ä¸º</p>
        <a href="/2020/01/17/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%8E%92%E6%9F%A5gRPC%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E5%AF%BC%E8%87%B4%E7%9A%84goroutine%E6%B3%84%E6%BC%8F/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2019/04/05/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8Bsnowflake%E5%92%8Crc4/">ä»‹ç»ä¸€ä¸‹snowflakeå’Œrc4</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>April 5, 2019</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/Algorithm/">Algorithm</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/Tools/">Tools</a>, 
      <a href="/tags/Crypto/">Crypto</a>, 
      <a href="/tags/RC4/">RC4</a>, 
      <a href="/tags/snowflake/">Snowflake</a>
  </div>
  


    <p><p><code>snowflake</code>æ˜¯twitterå…¬å¸å¼€æºçš„ç”Ÿæˆå”¯ä¸€IDçš„ç½‘ç»œæœåŠ¡ï¼Œå…·æœ‰å¾ˆå¼ºçš„ä¼¸ç¼©æ€§ï¼Œè¿™é‡Œåªå–ç”¨ç”Ÿæˆå”¯ä¸€IDçš„ç®—æ³•éƒ¨åˆ†ã€‚
<code>rc4</code>ï¼ˆRivest Cipher 4ï¼‰æ˜¯ä¸€ç§æµåŠ å¯†ç®—æ³•ï¼Œå¯†é’¥é•¿åº¦å¯å˜ï¼Œå®ƒçš„åŠ è§£å¯†ä½¿ç”¨ç›¸åŒçš„å¯†é’¥ï¼Œå› æ­¤ä¹Ÿå±äºå¯¹ç§°åŠ å¯†ç®—æ³•ã€‚</p>
<!-- more -->
<h3 id="ä¸ºå•¥è¦ä»‹ç»è¿™ä¸¤ç§ç®—æ³•">
  ä¸ºå•¥è¦ä»‹ç»è¿™ä¸¤ç§ç®—æ³•ï¼Ÿ
  <a class="anchor" href="#%e4%b8%ba%e5%95%a5%e8%a6%81%e4%bb%8b%e7%bb%8d%e8%bf%99%e4%b8%a4%e7%a7%8d%e7%ae%97%e6%b3%95">#</a>
</h3>
<p>å…¶ä¸€ï¼Œ<code>snowflake</code>å¯ä»¥ç”Ÿæˆå”¯ä¸€IDï¼Œè€Œç›¸æ¯”ä¸<code>UUID</code>ï¼Œ<code>snowflake</code>ç”Ÿæˆçš„IDæ›´åŠ â€œå¥½ç”¨â€ï¼Œè¿™ä¸ªæ”¾åœ¨åé¢è§£é‡Šã€‚
å…¶äºŒï¼Œ<code>UUID</code>å’Œ<code>snowflake</code>è™½ç„¶å¯ä»¥ç”Ÿæˆå”¯ä¸€IDï¼Œä½†æ˜¯æ— æ³•é€‚ç”¨äºæ‰€æœ‰åœºæ™¯ï¼Œè­¬å¦‚è¯´â€œç”Ÿæˆæ¨å¹¿ç â€ã€‚ç”Ÿæˆæ¨å¹¿ç çš„æ—¶å€™ï¼Œå¸Œæœ›å°½å¯èƒ½çŸ­è€Œç²¾ï¼Œå¾ˆæ˜æ˜¾å”¯ä¸€IDéƒ½ä¸å¤ªçŸ­ã€‚</p>
<h3 id="snowflake">
  snowflake
  <a class="anchor" href="#snowflake">#</a>
</h3>
<p>snowflakeçš„å”¯ä¸€IDæ˜¯ä¸€ä¸ª64bitçš„intå‹æ•°æ®ï¼Œç›¸è¾ƒäºUUIDæ¥è¯´è€—è´¹ç©ºé—´æ›´å°ï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„ä½œä¸ºæ•°æ®åº“ä¸»é”®æ¥ç´¢å¼•å’Œæ’åºã€‚</p>
<p><img src="/images/snowflake.png" alt="snowflake" /></p>
<h6 id="ç”Ÿæˆè¿‡ç¨‹">
  ç”Ÿæˆè¿‡ç¨‹ï¼š
  <a class="anchor" href="#%e7%94%9f%e6%88%90%e8%bf%87%e7%a8%8b">#</a>
</h6>
<ul>
<li>ç½®0ä¸ç”¨</li>
<li>timestampï¼ˆ41bitsï¼‰ç²¾ç¡®åˆ°msã€‚</li>
<li>machine-idï¼ˆ10bitsï¼‰è¯¥éƒ¨åˆ†å…¶å®ç”±datacenterIdå’ŒworkerIdä¸¤éƒ¨åˆ†ç»„æˆï¼Œè¿™ä¸¤éƒ¨åˆ†æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡æ˜çš„ã€‚datacenterIdï¼ˆ5bitsï¼‰æ–¹ä¾¿æ­å»ºå¤šä¸ªç”Ÿæˆuidçš„serviceï¼Œå¹¶ä¿è¯uidä¸é‡å¤ã€‚workerIdï¼ˆ5bitsï¼‰æ˜¯å®é™…serveræœºå™¨çš„ä»£å·ï¼Œæœ€å¤§åˆ°32ï¼ŒåŒä¸€ä¸ªdatacenterä¸‹çš„workerIdæ˜¯ä¸èƒ½é‡å¤çš„ã€‚</li>
<li>sequence-id(12bits)ï¼Œè¯¥idå¯ä»¥è¡¨ç¤º4096ä¸ªæ•°å­—ï¼Œå®ƒæ˜¯åœ¨timeç›¸åŒçš„æƒ…å†µä¸‹ï¼Œé€’å¢è¯¥å€¼ç›´åˆ°ä¸º0ï¼Œå³ä¸€ä¸ªå¾ªç¯ç»“æŸï¼Œæ­¤æ—¶ä¾¿åªèƒ½ç­‰åˆ°ä¸‹ä¸€ä¸ªmsåˆ°æ¥ï¼Œä¸€èˆ¬æƒ…å†µä¸‹4096/msçš„è¯·æ±‚æ˜¯ä¸å¤ªå¯èƒ½å‡ºç°çš„ï¼Œæ‰€ä»¥è¶³å¤Ÿä½¿ç”¨äº†ã€‚</li>
</ul>
<h6 id="ä¼˜åŠ¿å’Œç¼ºé™·">
  ä¼˜åŠ¿å’Œç¼ºé™·ï¼š
  <a class="anchor" href="#%e4%bc%98%e5%8a%bf%e5%92%8c%e7%bc%ba%e9%99%b7">#</a>
</h6>
<ul>
<li>é€Ÿåº¦å¿«ï¼Œæ— ä¾èµ–ï¼ŒåŸç†å’Œå®ç°ç®€å•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚åšç®—æ³•è°ƒæ•´</li>
<li>ä¾èµ–æœºå™¨æ—¶é—´ï¼Œå¦‚æœæ—¶é—´å›æ‹¨å¯èƒ½å¯¼è‡´é‡å¤çš„ID</li>
</ul>
<h3 id="rc4">
  rc4
  <a class="anchor" href="#rc4">#</a>
</h3>
<blockquote>
<p>RC4åŠ å¯†ç®—æ³•ä¹Ÿæ˜¯ä¸€ç§åŸºäºå¯†é’¥æµçš„åŠ å¯†ç®—æ³•ã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œrc4æ ¹æ®æ˜æ–‡å’Œå¯†é’¥ç”Ÿæˆçš„å¯†é’¥æµï¼Œå…¶é•¿åº¦å’Œæ˜æ–‡çš„é•¿åº¦æ˜¯ç›¸ç­‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜æ–‡çš„é•¿åº¦æ˜¯500å­—èŠ‚ï¼Œé‚£ä¹ˆå¯†é’¥æµä¹Ÿæ˜¯500å­—èŠ‚ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç”¨æ¥ç”Ÿæˆ<code>æ¨å¹¿ç </code>çš„åŸå› ä¹‹ä¸€äº†ï¼›å…¶æ¬¡ï¼Œrc4æ˜¯æ˜¯å¯¹ç§°åŠ å¯†å®Œå…¨å¯ä»¥é€šè¿‡å¯†æ–‡å¾—åˆ°æ˜æ–‡ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç”Ÿæˆç çš„æ—¶å€™æŠŠå¿…è¦ä¿¡æ¯æ”¾åœ¨æ˜æ–‡ä¸­ï¼Œåœ¨ä½¿ç”¨å¯†æ–‡çš„æ—¶å€™å¯ä»¥ä¸ç”¨æŸ¥åº“ä¹Ÿèƒ½å¾—åˆ°ç›¸å…³çš„ä¿¡æ¯ï¼Œè­¬å¦‚ç”¨æˆ·IDï¼Œè¿™æ˜¯åŸå› ä¹‹äºŒã€‚</p>
<h6 id="ä½¿ç”¨åœºæ™¯">
  ä½¿ç”¨åœºæ™¯
  <a class="anchor" href="#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af">#</a>
</h6>
<blockquote>
<p>ç°åœ¨éœ€è¦ç”Ÿæˆä¸€ç§ç ï¼ŒçŸ­å°æ˜“è®°ï¼Œä¸”å”¯ä¸€ï¼Œä½†å¹¶ä¸éœ€è¦å¤§é‡ã€‚</p>
</blockquote>
<p>ä¸Šè¿°çš„snowflakeå’ŒUUIDéƒ½å¾ˆå®¹æ˜“å®ç°å”¯ä¸€ï¼Œä½†æ˜¯çŸ­å°å°±ä¸ç¬¦åˆè¦æ±‚äº†ã€‚å› ä¸ºå¹¶ä¸éœ€è¦å¤§é‡ç”Ÿæˆè¿™ç§ç ï¼Œå› æ­¤æˆ‘ä»¬è€ƒè™‘ç”¨<code>è‡ªå¢ID + RC4</code>æ¥å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;crypto/rc4&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;encoding/hex&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">cipher</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rc4</span>.<span style="color:#a6e22e">NewCipher</span>([]byte(<span style="color:#e6db74">&#34;thisiskey&#34;</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;wrong with NewCipher: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">bool</span>{}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">1000</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">src</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%7d&#34;</span>, <span style="color:#a6e22e">i</span>))
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">dst</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">byte</span>, len(<span style="color:#a6e22e">src</span>))
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">cipher</span>.<span style="color:#a6e22e">XORKeyStream</span>(<span style="color:#a6e22e">dst</span>, <span style="color:#a6e22e">src</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">toString</span>(<span style="color:#a6e22e">dst</span>) <span style="color:#75715e">// å¯†æ–‡æ˜¯ä¸å¯è¯»çš„å­—èŠ‚æµï¼Œè¿™é‡Œé‡‡ç”¨hexç¼–ç 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		println(<span style="color:#a6e22e">s</span>)         <span style="color:#75715e">// å½¢å¦‚ï¼ša09def6b6e4797
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#a6e22e">c</span>[<span style="color:#a6e22e">s</span>] = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	println(len(<span style="color:#a6e22e">c</span>)) <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">toString</span>(<span style="color:#a6e22e">src</span> []<span style="color:#66d9ef">byte</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hex</span>.<span style="color:#a6e22e">EncodeToString</span>(<span style="color:#a6e22e">src</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="å‚è€ƒ">
  å‚è€ƒ
  <a class="anchor" href="#%e5%8f%82%e8%80%83">#</a>
</h3>
<ul>
<li><a href="https://github.com/twitter-archive/snowflake">twitter-snowflake</a></li>
<li><a href="https://github.com/bwmarrin/snowflake">bwmarrin/snowflake</a></li>
<li><a href="https://github.com/yeqown/snowflake">yeqown/snowflake</a></li>
<li><a href="https://juejin.im/entry/59b5ef585188257e8901487d">å…³äºsnowflakeçš„åˆ†æ</a></li>
<li><a href="https://www.kancloud.cn/db-design/mysql-dba/596722">ä¸ºä»€ä¹ˆæ¨èInnoDBå¼•æ“ä½¿ç”¨è‡ªå¢ä¸»é”®?</a></li>
</ul>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2019/04/01/go-watcher-%E7%83%AD%E9%87%8D%E8%BD%BD%E8%BD%AE%E5%AD%90/">go-watcher-çƒ­é‡è½½è½®å­</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>April 1, 2019</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%80%BB%E7%BB%93/">æ€»ç»“</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/Tools/">Tools</a>, 
      <a href="/tags/hot-reload/">Hot-Reload</a>
  </div>
  


    <p><p>Golangç¼–å†™çš„çƒ­é‡è½½å·¥å…·ï¼Œè‡ªå®šä¹‰å‘½ä»¤ï¼Œæ”¯æŒç›‘è§†æ–‡ä»¶åŠè·¯å¾„é…ç½®ï¼Œç¯å¢ƒå˜é‡é…ç½®ã€‚è¿™æ˜¯ä¸€ä¸ªé‡å¤çš„è½®å­ï½</p>
<!-- more -->
<h3 id="å®‰è£…ä½¿ç”¨">
  å®‰è£…ä½¿ç”¨
  <a class="anchor" href="#%e5%ae%89%e8%a3%85%e4%bd%bf%e7%94%a8">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">go</span> <span style="color:#a6e22e">install</span> <span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#f92672">/</span><span style="color:#a6e22e">yeqown</span><span style="color:#f92672">/</span><span style="color:#66d9ef">go</span><span style="color:#f92672">-</span><span style="color:#a6e22e">watcher</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cmd</span><span style="color:#f92672">/</span><span style="color:#66d9ef">go</span><span style="color:#f92672">-</span><span style="color:#a6e22e">watcher</span>
</span></span></code></pre></div><h3 id="å‘½ä»¤è¡Œ">
  å‘½ä»¤è¡Œ
  <a class="anchor" href="#%e5%91%bd%e4%bb%a4%e8%a1%8c">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>âœ  go-watcher git:<span style="color:#f92672">(</span>master<span style="color:#f92672">)</span> âœ— ./go-watcher -h   
</span></span><span style="display:flex;"><span>NAME:
</span></span><span style="display:flex;"><span>   go-watcher - A new cli application
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USAGE:
</span></span><span style="display:flex;"><span>   go-watcher <span style="color:#f92672">[</span>global options<span style="color:#f92672">]</span> command <span style="color:#f92672">[</span>command options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>arguments...<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>VERSION:
</span></span><span style="display:flex;"><span>   2.0.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>AUTHOR:
</span></span><span style="display:flex;"><span>   yeqown@gmail.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>COMMANDS:
</span></span><span style="display:flex;"><span>     init     generate a config file to specified postion
</span></span><span style="display:flex;"><span>     run      execute a command, and watch the files, <span style="color:#66d9ef">if</span> any change to these files, the command will reload
</span></span><span style="display:flex;"><span>     help, h  Shows a list of commands or help <span style="color:#66d9ef">for</span> one command
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GLOBAL OPTIONS:
</span></span><span style="display:flex;"><span>   --help, -h     show help
</span></span><span style="display:flex;"><span>   --version, -v  print the version
</span></span></code></pre></div><h3 id="é…ç½®æ–‡ä»¶">
  é…ç½®æ–‡ä»¶
  <a class="anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">watcher</span>:                   <span style="color:#75715e"># ç›‘è§†å™¨é…ç½®</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">duration</span>: <span style="color:#ae81ff">2000</span>           <span style="color:#75715e"># æ–‡ä»¶ä¿®æ”¹æ—¶é—´é—´éš”ï¼Œåªæœ‰é«˜äºè¿™ä¸ªé—´éš”æ‰å›è§¦å‘é‡è½½</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">included_filetypes</span>:      <span style="color:#75715e"># ç›‘è§†çš„æ–‡ä»¶æ‰©å±•ç±»å‹</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">.go                   </span> <span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">excluded_regexps</span>:        <span style="color:#75715e"># ä¸è¢«ç›‘è§†æ›´æ”¹çš„æ–‡ä»¶æ­£åˆ™è¡¨è¾¾å¼</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">^.gitignore$</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;*.yml$&#39;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;*.txt$&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">additional_paths</span>: []       <span style="color:#75715e"># é™¤äº†å½“å‰æ–‡ä»¶å¤¹éœ€è¦é¢å¤–ç›‘è§†çš„æ–‡ä»¶å¤¹</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">excluded_paths</span>:            <span style="color:#75715e"># ä¸éœ€è¦ç›‘è§†çš„æ–‡ä»¶åï¼Œè‹¥ä¸ºç›¸å¯¹è·¯å¾„ï¼Œåªèƒ½å¯¹äºå½“å‰è·¯å¾„ç”Ÿæ•ˆ</span>
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">vendor</span>
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">.git</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">envs</span>:                      <span style="color:#75715e"># é¢å¤–çš„ç¯å¢ƒå˜é‡</span>
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">GOROOT=/path/to/your/goroot</span>
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">GOPATH=/path/to/your/gopath</span>
</span></span></code></pre></div><h3 id="ä½¿ç”¨èŒƒä¾‹æ—¥å¿—">
  ä½¿ç”¨èŒƒä¾‹æ—¥å¿—
  <a class="anchor" href="#%e4%bd%bf%e7%94%a8%e8%8c%83%e4%be%8b%e6%97%a5%e5%bf%97">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>âœ  go-watcher git:<span style="color:#f92672">(</span>master<span style="color:#f92672">)</span> âœ— ./package/osx/go-watcher run -e <span style="color:#e6db74">&#34;make&#34;</span> -c ./config.yml
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/cmd<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/cmd/go-watcher<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/internal<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/internal/command<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/internal/log<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/internal/testdata<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/internal/testdata/exclude<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/internal/testdata/testdata_inner<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/archived<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/linux<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/osx<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/resources<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/utils<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/utils/testdata<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> directory <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/utils/testdata/testdata_inner<span style="color:#f92672">)</span> is under watching
</span></span><span style="display:flex;"><span>rm -fr package
</span></span><span style="display:flex;"><span>go build -o package/osx/go-watcher cmd/go-watcher/main.go
</span></span><span style="display:flex;"><span>GOOS<span style="color:#f92672">=</span>linux GOARCH<span style="color:#f92672">=</span>amd64 go build -o package/linux/go-watcher cmd/go-watcher/main.go
</span></span><span style="display:flex;"><span>mkdir -p package/archived
</span></span><span style="display:flex;"><span>tar -zcvf package/archived/go-watcher.osx.tar.gz package/osx
</span></span><span style="display:flex;"><span>a package/osx
</span></span><span style="display:flex;"><span>a package/osx/go-watcher
</span></span><span style="display:flex;"><span>tar -zcvf package/archived/go-watcher.linux.tar.gz package/linux
</span></span><span style="display:flex;"><span>a package/linux
</span></span><span style="display:flex;"><span>a package/linux/go-watcher
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> command executed <span style="color:#66d9ef">done</span>!
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/osx/go-watcher<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/osx<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/linux/go-watcher<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/linux<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/archived/go-watcher.linux.tar.gz<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/archived<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/VERSION<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>/Users/yeqown/Projects/opensource/go-watcher/cmd/go-watcher/main.go<span style="color:#f92672">]</span> changed
</span></span><span style="display:flex;"><span>rm -fr package
</span></span><span style="display:flex;"><span>mkdir -p package/osx
</span></span><span style="display:flex;"><span>mkdir -p package/linux
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;2.0.0&#34;</span> &gt; VERSION
</span></span><span style="display:flex;"><span>cp VERSION package/osx
</span></span><span style="display:flex;"><span>cp VERSION package/linux
</span></span><span style="display:flex;"><span>go build -o package/osx/go-watcher cmd/go-watcher/main.go
</span></span><span style="display:flex;"><span>GOOS<span style="color:#f92672">=</span>linux GOARCH<span style="color:#f92672">=</span>amd64 go build -o package/linux/go-watcher cmd/go-watcher/main.go
</span></span><span style="display:flex;"><span>mkdir -p package/archived
</span></span><span style="display:flex;"><span>tar -zcvf package/archived/go-watcher.osx.tar.gz package/osx
</span></span><span style="display:flex;"><span>a package/osx
</span></span><span style="display:flex;"><span>a package/osx/go-watcher
</span></span><span style="display:flex;"><span>a package/osx/VERSION
</span></span><span style="display:flex;"><span>tar -zcvf package/archived/go-watcher.linux.tar.gz package/linux
</span></span><span style="display:flex;"><span>a package/linux
</span></span><span style="display:flex;"><span>a package/linux/go-watcher<span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/osx<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/linux<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a package/linux/VERSION
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> command executed <span style="color:#66d9ef">done</span>!
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/osx<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package/archived<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/VERSION<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>/Users/yeqown/Projects/opensource/go-watcher/package<span style="color:#f92672">)</span> is skipped, not target filetype
</span></span><span style="display:flex;"><span>^C<span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> quit signal captured!
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> go-watcher exited
</span></span><span style="display:flex;"><span>âœ  go-watcher git:<span style="color:#f92672">(</span>master<span style="color:#f92672">)</span> âœ— 
</span></span></code></pre></div>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2019/03/30/goswagger%E5%85%A5%E9%97%A8%E6%89%8B%E5%86%8C/">goswaggerå…¥é—¨æ‰‹å†Œ</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>March 30, 2019</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/Golang/">Golang</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/Swagger/">Swagger</a>
  </div>
  


    <p><blockquote>
<p>æœ¬æ–‡æ—¨åœ¨è®°å½•ä½¿ç”¨goswaggerè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼ˆåªåœ¨ç”Ÿæˆæ–‡æ¡£æ–¹é¢ï¼Œä¸æ¶‰åŠå…¶ä»–åŠŸèƒ½ï¼‰ï¼š</p>
</blockquote>
<ul>
<li>å¦‚ä½•åœ¨go1.11+ä»¥ä¸Šï¼ˆæ”¯æŒGo Moduleï¼‰ç‰ˆæœ¬ä¸­çš„åº”ç”¨swagger</li>
<li>ä¸€äº›æ³¨è§£ä¸Šçš„æ³¨æ„äº‹é¡¹</li>
<li>å¦‚ä½•åœ¨å›¢é˜Ÿä¸­ç®¡ç†APIæ–‡æ¡£ï¼ˆä¸»è¦æ¶µç›–äº†ï¼šswagger-uiçš„éƒ¨ç½²å’Œä½¿ç”¨ï¼‰</li>
</ul>
<h3 id="å…³äºswaggerhttpsswaggerio">
  å…³äº<a href="https://swagger.io">swagger</a>
  <a class="anchor" href="#%e5%85%b3%e4%ba%8eswaggerhttpsswaggerio">#</a>
</h3>
<p>swaggeræ¶µç›–WebAPIçš„ä¸€æ•´å¥—å·¥å…·ï¼šAPIè®¾è®¡ï¼ŒAPIå®ç°ï¼ˆä»£ç ç”Ÿæˆï¼‰ï¼ŒAPIæ–‡æ¡£ï¼ŒAPIæµ‹è¯•åŠAPIè§„èŒƒã€‚æ›´å¤šä¿¡æ¯è¯·å‚è§å®˜ç½‘</p>
<!-- more -->
<h3 id="å‡†å¤‡å·¥ä½œ">
  å‡†å¤‡å·¥ä½œ
  <a class="anchor" href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c">#</a>
</h3>
<ul>
<li>ä¸€ä¸ªGolang webé¡¹ç›®ï¼Œå¹¶è½¯è¿æ¥åˆ°<code>GOPATH/src</code>ä¸‹ã€‚ã€æ¯•ç«Ÿæ˜¯æ”¯æŒGomoduleçš„é¡¹ç›®ï¼Œè¿˜æ”¾åœ¨GOPATHä¸‹å°±ä¸ç§‘å­¦äº†ğŸ˜„ã€‘</li>
<li>å®‰è£…swaggerå·¥å…·. å‚è§<a href="https://goswagger.io/install.html">å®‰è£…</a></li>
<li>ç¯å¢ƒï¼š
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>âœ  swagger-demo git:<span style="color:#f92672">(</span>master<span style="color:#f92672">)</span> âœ— go version
</span></span><span style="display:flex;"><span>go version go1.11.5 darwin/amd64
</span></span><span style="display:flex;"><span>âœ  swagger-demo git:<span style="color:#f92672">(</span>master<span style="color:#f92672">)</span> âœ— swagger version
</span></span><span style="display:flex;"><span>version: v0.18.0
</span></span><span style="display:flex;"><span>commit: 6b23bb61413826ce42c3b14a37bf5870caf91e0b
</span></span></code></pre></div></li>
</ul>
<h3 id="ç¼–å†™æ³¨é‡Š">
  ç¼–å†™æ³¨é‡Š
  <a class="anchor" href="#%e7%bc%96%e5%86%99%e6%b3%a8%e9%87%8a">#</a>
</h3>
<blockquote>
<p>å…ƒä¿¡æ¯åŒ…å«äº†è¿™ä¸ªåº”ç”¨çš„åŸºæœ¬ä¿¡æ¯ã€‚ä¸€èˆ¬æ–°å»ºä¸€ä¸ªdoc.goæ”¾åœ¨ä½ çš„APIæ ¹ç›®å½•ä¸‹ï¼›è¿˜æœ‰ä¸€å®šè¦æ³¨æ„è¿™å¥è¯ï¼š</p>
</blockquote>
<blockquote>
<p>You give it a main file and it will parse all the files that are reachable by that main package to produce a swagger specification.To use you can add a go:generate comment to your main fileã€‚</p>
        <a href="/2019/03/30/goswagger%E5%85%A5%E9%97%A8%E6%89%8B%E5%86%8C/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2018/11/26/QR-Code%E7%94%9F%E6%88%90%E5%99%A8forgolang/">Go è¯­è¨€å®ç° QR Code ç”Ÿæˆå™¨ï¼šä»åŸç†åˆ°å®è·µ</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>November 26, 2018</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/Golang/">Golang</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/QR-Code/">QR Code</a>
  </div>
  


    <p><blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/yeqown/go-qrcode">yeqown/go-qrcode</a></p>
<p>åœ¨é€ è½®å­çš„è¿‡ç¨‹ä¸­ï¼Œå‚è€ƒäº†åŒç±»é¡¹ç›® <a href="https://github.com/skip2/go-qrcode">skip2/go-qrcode</a> çš„å®ç°ï¼Œç‰¹åˆ«æ˜¯å¤ç”¨äº†å…¶çº é”™ç®—æ³•å’Œ BitSet çš„éƒ¨åˆ†é€»è¾‘ã€‚ä½†ä¸ºäº†æ›´æ·±å…¥ç†è§£ QR Code çš„ç”Ÿæˆæœºåˆ¶ï¼Œæˆ‘å†³å®šå®Œæ•´åœ°æ¢³ç†ä¸€éæµç¨‹å¹¶é‡æ„å®ç°ã€‚</p>
</blockquote>
<h2 id="èƒŒæ™¯">
  èƒŒæ™¯
  <a class="anchor" href="#%e8%83%8c%e6%99%af">#</a>
</h2>
<p>äºŒç»´ç ï¼ˆQR Codeï¼‰çœ‹ä¼¼åªæ˜¯ä¸€å †æ‚ä¹±æ— ç« çš„é»‘ç™½åƒç´ ç‚¹ï¼Œå®åˆ™åŒ…å«äº†ä¸€å¥—ä¸¥å¯†çš„æ•°æ®ç¼–ç ã€çº é”™å’Œæ©ç æœºåˆ¶ã€‚ä½œä¸ºä¸€å Gopherï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­è°ƒç”¨ç°æˆçš„åº“ç”ŸæˆäºŒç»´ç éå¸¸ç®€å•ï¼Œä½†å¦‚æœæƒ³æ¢ç©¶å…¶â€œé»‘ç›’â€å†…éƒ¨çš„ç§˜å¯†ï¼Œæœ€å¥½çš„æ–¹å¼è«è¿‡äºäº²æ‰‹å®ç°ä¸€ä¸ªã€‚</p>
<h2 id="å¿«é€Ÿä¸Šæ‰‹">
  å¿«é€Ÿä¸Šæ‰‹
  <a class="anchor" href="#%e5%bf%ab%e9%80%9f%e4%b8%8a%e6%89%8b">#</a>
</h2>
<p>åœ¨æ·±å…¥åŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ <code>go-qrcode</code> åº“åœ¨å‡ è¡Œä»£ç å†…ç”Ÿæˆä¸€å¼ äºŒç»´ç å›¾ç‰‡ã€‚</p>
<h3 id="ç¤ºä¾‹ä»£ç ">
  ç¤ºä¾‹ä»£ç 
  <a class="anchor" href="#%e7%a4%ba%e4%be%8b%e4%bb%a3%e7%a0%81">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;github.com/yeqown/go-qrcode/v2&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;github.com/yeqown/go-qrcode/writer/standard&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 1. åˆå§‹åŒ– QRCode å¯¹è±¡ï¼Œè¾“å…¥æ–‡æœ¬å†…å®¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">qrc</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">qrcode</span>.<span style="color:#a6e22e">New</span>(<span style="color:#e6db74">&#34;https://github.com/yeqown/go-qrcode&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;could not generate QRCode: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 2. åˆå§‹åŒ–æ ‡å‡† Writerï¼ŒæŒ‡å®šè¾“å‡ºæ–‡ä»¶å
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">standard</span>.<span style="color:#a6e22e">New</span>(<span style="color:#e6db74">&#34;../testdata/repo-qrcode.jpeg&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;standard.New failed: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 3. ä¿å­˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">qrc</span>.<span style="color:#a6e22e">Save</span>(<span style="color:#a6e22e">w</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;could not save image: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;QR Code generate successfully!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç”Ÿæˆç»“æœç¤ºæ„å¦‚ä¸‹ï¼š</p>
        <a href="/2018/11/26/QR-Code%E7%94%9F%E6%88%90%E5%99%A8forgolang/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2018/11/19/go-get%E9%81%87%E5%88%B0%E5%A2%99%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">go-geté‡åˆ°ğŸ§±çš„è§£å†³æ–¹æ³•</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>November 19, 2018</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/Golang/">Golang</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>
  </div>
  


    <p><p>è§£å†³æ–¹æ³•æœ‰ä¸¤ç§ï¼Œåœ¨ç½‘ä¸Šä¹Ÿå¾ˆå¥½æ‰¾åˆ°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>1. æœ€ç®€å•çš„ï¼Œä»Â¥â€œgithub.com/golangâ€æ‰¾åˆ°å¯¹åº”çš„åŒ…å¹¶ä¸‹è½½åˆ° $GOPATH/src/golang.org/x/ ä¸‹
</span></span><span style="display:flex;"><span>2. ç¬¬äºŒç§ï¼Œå°±æ˜¯ç¿»è¿‡ğŸ§±äº†ã€‚
</span></span></code></pre></div><h3 id="1-é—®é¢˜ç¿»äº†è¿˜æ˜¯æ²¡åŠæ³•ç›´æ¥ä½¿ç”¨go-getæ¥ä¸‹è½½å‘¢">
  1 é—®é¢˜ï¼šç¿»äº†ğŸ§±ï¼Œè¿˜æ˜¯æ²¡åŠæ³•ç›´æ¥ä½¿ç”¨go getæ¥ä¸‹è½½å‘¢ï¼Ÿ
  <a class="anchor" href="#1-%e9%97%ae%e9%a2%98%e7%bf%bb%e4%ba%86%e8%bf%98%e6%98%af%e6%b2%a1%e5%8a%9e%e6%b3%95%e7%9b%b4%e6%8e%a5%e4%bd%bf%e7%94%a8go-get%e6%9d%a5%e4%b8%8b%e8%bd%bd%e5%91%a2">#</a>
</h3>
<p>å…ˆè¯´åŸå› ï¼Œå› ä¸ºgo getå¹¶æ²¡æœ‰èµ°ä½ çš„ä»£ç†å•Šï¼ï¼ï¼ï¼é‚£ä¹ˆå¦‚ä½•è®¾ç½®ä»£ç†å‘¢ï¼Ÿ</p>
<!-- more -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>export http_proxy<span style="color:#f92672">=</span>http://ip:port
</span></span><span style="display:flex;"><span>go get golang.org/xxx
</span></span></code></pre></div><p>å…¶ä»–è®¾ç½®ä»£ç†çš„æ–¹å¼ï¼Œè‡ªè¡Œå‚è§ <a href="##%e5%8f%82%e8%80%83">å‚è€ƒ</a></p>
<h3 id="2-å¦‚æœä½ çš„ä»£ç†ä¸æ”¯æŒhttp--httpsåè®®å¯å’‹æ•´">
  2 å¦‚æœä½ çš„ä»£ç†ä¸æ”¯æŒhttp || httpsåè®®ï¼Œå¯å’‹æ•´ï¼Ÿ
  <a class="anchor" href="#2-%e5%a6%82%e6%9e%9c%e4%bd%a0%e7%9a%84%e4%bb%a3%e7%90%86%e4%b8%8d%e6%94%af%e6%8c%81http--https%e5%8d%8f%e8%ae%ae%e5%8f%af%e5%92%8b%e6%95%b4">#</a>
</h3>
<p>é‚£ä¹ˆæƒ³åŠæ³•æ”¯æŒhttpæˆ–è€…æŠŠhttpå†ä»£ç†åˆ°ä½ å¯ä»¥ä½¿ç”¨çš„åè®®ï¼ˆsocks5~ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<a href="https://github.com/cyfdecyf/cow">cow</a>ã€‚</p>
<p>cow æ¨èä½¿ç”¨æ–¹å¼ï¼š</p>
<p>go get ä¸‹è½½å®‰è£…ï¼ˆå› ä¸ºåˆšå¼€å§‹å›¾ç®€å•ï¼Œä½¿ç”¨ç¨‹åºçš„æ—¶å€™è¿è¡ŒæŠ¥é”™äº†ï¼Œgo get å®‰è£…æ–¹å¼å¹¶ä¸ä¼šæœ‰è¿™æ ·çš„å›°æ‰°ï¼‰ã€‚
é…ç½®çš„æ—¶å€™ä¹Ÿå¾ˆç®€å•ï¼Œç¼–è¾‘é…ç½®æ–‡ä»¶ ï½/.cow/rcï¼Œé…ç½®http socks5ä»£ç†æœåŠ¡å’Œç›‘å¬ä»£ç†ç«¯å£ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>listen <span style="color:#f92672">=</span> http://127.0.0.1:7777
</span></span><span style="display:flex;"><span>proxy <span style="color:#f92672">=</span> socks5://127.0.0.1:1080
</span></span></code></pre></div><h3 id="3-è¿è¡Œ">
  3 è¿è¡Œ
  <a class="anchor" href="#3-%e8%bf%90%e8%a1%8c">#</a>
</h3>
<p>é…ç½®å®Œæˆä¹‹åå°±å¯ä»¥ç›´æ¥è¿è¡Œäº†</p>
<pre tabindex="0"><code>    ./cow
    # å¦å¼€ä¸€ä¸ªTerminal
    export http_proxy=http://ip:port
    go get golang.org/xxx
</code></pre><h3 id="å†™åœ¨åé¢">
  å†™åœ¨åé¢
  <a class="anchor" href="#%e5%86%99%e5%9c%a8%e5%90%8e%e9%9d%a2">#</a>
</h3>
<p>çŸ¥é“äº†go getæ— æ³•ç¿»ğŸ§±çš„åŸå› ä¹‹åï¼Œå°±å¯ä»¥å‘æŒ¥è‡ªå·±çš„æƒ³è±¡åŠ›æ¥è§£å†³é—®é¢˜äº†ï¼Œè¿™æ ·è§£å†³è¿˜æ˜¯æŒºç¹ççš„ã€‚è™½ç„¶cowå¯ä»¥é…ç½®å¼€æœºå¯åŠ¨ï¼Œä½†å¯¹äºä¸€ä¸ªæ‡’ç™Œæ™šæœŸï¼‰çš„äººæ¥è¯´ï¼ˆå¦‚æœä¸æ˜¯å› ä¸ºå‡çº§Goåˆ°äº†1.11ï¼Œgo-moduleæœºåˆ¶è®©æˆ‘æ— æ³•å¼€å¿ƒçš„ç©è€ï¼Œæˆ‘ä¹Ÿä¸ä¼šå»è€ƒè™‘ä¸ºå•¥ç¿»ğŸ§±äº†go getè¿˜æ˜¯ä¸èƒ½ç”¨ï¼Œæ˜æ˜æœ‰ä»£ç†å´è¿˜æœ‰ä½¿ç”¨å¦å¤–ä¸€ä¸ªä»£ç†ï½ã€‚</p>
<p>å‹æƒ…æç¤ºï¼švscode-go ä¹Ÿå¯ä»¥è®¾ç½®proxyå“¦</p>
<h3 id="å‚è€ƒ">
  å‚è€ƒï¼š
  <a class="anchor" href="#%e5%8f%82%e8%80%83">#</a>
</h3>
<ul>
<li><a href="https://blog.csdn.net/zhyhang/article/details/78444974">go get ä½¿ç”¨ä»£ç†</a></li>
<li><a href="https://github.com/cyfdecyf/cow">cow</a></li>
<li><a href="https://github.com/cyfdecyf/cow/blob/master/doc/sample-config/rc">cowé…ç½®æ–‡ä»¶è¯´æ˜</a></li>
<li><a href="https://blog.csdn.net/easy_mind/article/details/78214696">vscode-goè®¾ç½®proxy</a></li>
</ul>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2018/10/23/etcd-service-registration-discovery/">etcdä¸service-registration-discovery</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>October 23, 2018</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/etcd/">Etcd</a>, 
      <a href="/tags/microservice/">Microservice</a>, 
      <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0/">æœåŠ¡æ³¨å†Œå‘ç°</a>
  </div>
  


    <p><blockquote>
<p>å£°æ˜ï¼šæœ¬æ–‡å¯¹etcdçš„åŸç†ï¼Œå®ç°ç»†èŠ‚ï¼Œæ€§èƒ½ç­‰å‡ä¸è€ƒè™‘ï¼Œä»…å°†etcdä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼çš„K-Vå­˜å‚¨ç»„ä»¶ã€‚æœ¬æ–‡æä»·ä»£ç å‡åœ¨ï¼š <a href="https://github.com/yeqown/server-common/tree/master/framework/etcd">github.com/yeqown/server-common/tree/master/framework/etcd</a></p>
</blockquote>
<h3 id="ä¸€ä¸ªæ ¸å¿ƒ">
  ä¸€ä¸ªæ ¸å¿ƒ
  <a class="anchor" href="#%e4%b8%80%e4%b8%aa%e6%a0%b8%e5%bf%83">#</a>
</h3>
<p>etcd, åˆ†å¸ƒå¼Key-Valueå­˜å‚¨å·¥å…·ã€‚è¯¦ç»†èµ„æ–™<a href="https://github.com/etcd-io/etcd/blob/master/Documentation/docs.md">ç”±æ­¤å»</a></p>
<ul>
<li><a href="https://github.com/etcd-io/etcd/releases">etcdä¸‹è½½å®‰è£…</a></li>
</ul>
<h3 id="ä¸¤ä¸ªå¯¹è±¡">
  ä¸¤ä¸ªå¯¹è±¡
  <a class="anchor" href="#%e4%b8%a4%e4%b8%aa%e5%af%b9%e8%b1%a1">#</a>
</h3>
<ul>
<li>æœåŠ¡æä¾›è€…ï¼ˆåœ¨æµ‹è¯•ç¯å¢ƒä¸­ï¼Œæˆ‘å®šä¹‰ä¸ºå•ç‹¬çš„æœåŠ¡å®ä¾‹ï¼‰ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡çš„æä¾›è€…ï¼Œéœ€è¦å‘å…¶ä»–æœåŠ¡æš´éœ²è‡ªå·±çš„ipå’Œç«¯å£ï¼Œæ–¹ä¾¿è°ƒç”¨ã€‚</li>
<li>æœåŠ¡è°ƒç”¨è€…ï¼ˆåŒæ ·åœ°ï¼Œåœ¨æµ‹è¯•ç¯å¢ƒä¸­æˆ‘å®šä¹‰ä¸ºåå‘ä»£ç†ç½‘å…³ç¨‹åºï¼‰ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡çš„è°ƒç”¨è€…ï¼Œéœ€è¦è·å–åˆ° <em><strong>å¯ä½¿ç”¨</strong></em> åœ°æœåŠ¡åœ°å€å¹¶è°ƒç”¨ã€‚</li>
</ul>
<!-- more -->
<h3 id="å…³äºæœåŠ¡æ³¨å†Œä¸å‘ç°">
  å…³äºæœåŠ¡æ³¨å†Œä¸å‘ç°
  <a class="anchor" href="#%e5%85%b3%e4%ba%8e%e6%9c%8d%e5%8a%a1%e6%b3%a8%e5%86%8c%e4%b8%8e%e5%8f%91%e7%8e%b0">#</a>
</h3>
<p>å°±å…·ä½“åœºæ™¯è€Œè¨€ï¼šæˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨äº†ä¸€ä¸ªä»£ç†ç½‘å…³æœåŠ¡å™¨ï¼Œç”¨äºè½¬å‘ç§»åŠ¨ç«¯å’ŒPCç«¯çš„APIè¯·æ±‚ï¼Œå¹¶å®Œæˆå…¶ä»–åŠŸèƒ½ã€‚æ‰€æœ‰çš„æœåŠ¡å®ä¾‹é…ç½®éƒ½æ˜¯ç¡¬ç¼–ç åœ¨ç½‘å…³ç¨‹åºä¸­ï¼Œé¡¶å¤šå°±æ˜¯æŠ½ç¦»å‡ºæ¥æˆäº†ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚è¿™æ ·åšçš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼šâ€œéåŠ¨æ€â€ã€‚ä¹Ÿå°±æ„å‘³ç€ï¼Œä¸€æ—¦æœ‰æœåŠ¡Downæ‰ï¼Œé‚£ä¹ˆç”¨æˆ·è®¿é—®åˆ™å¯èƒ½å¼‚å¸¸ï¼Œç”šè‡³å¯¼è‡´æ•´ä¸ªæœåŠ¡çš„å´©æºƒï¼›å…¶æ¬¡ï¼Œéœ€è¦å¯¹æœåŠ¡è¿›è¡Œæ‰©å®¹çš„æƒ…å†µä¸‹ï¼Œåˆ™éœ€è¦å…ˆè¿›è¡ŒæœåŠ¡éƒ¨ç½²å†æ›´æ–°ç½‘å…³ç¨‹åºï¼Œæ­¥éª¤ç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬è®¾è®¡æˆä¸ºå¦‚ä¸‹å›¾çš„æ ·å­ï¼š
<img src="/images/etcd-service-regisration-discovery.png" alt="etcd-service-regisration-discovery" />
å¯¹äºæ–°æ·»åŠ çš„æœåŠ¡å®ä¾‹ï¼Œåªéœ€è¦å¯åŠ¨æ–°çš„æœåŠ¡ï¼Œå¹¶æ³¨å†Œåˆ°etcdç›¸åº”çš„è·¯å¾„ä¸‹å°±è¡Œäº†ã€‚</p>
<blockquote>
<p>æ³¨å†Œï¼šå¯¹äºåŒä¸€ç»„æœåŠ¡ï¼Œé…ç½®ä¸€ä¸ªç»Ÿä¸€çš„å‰ç¼€ï¼ˆå¦‚å›¾ä¸Šçš„&quot;/specServer&quot;ï¼‰ï¼Œä¸åŒå®ä¾‹ä½¿ç”¨IDåŠ ä»¥åŒºåˆ†ã€‚</p>
</blockquote>
<h3 id="å°†ç°è¡ŒæœåŠ¡æ”¹é€ æˆä¸ºä¸Šè¿°æ¨¡å¼éœ€è¦è§£å†³çš„é—®é¢˜">
  å°†ç°è¡ŒæœåŠ¡æ”¹é€ æˆä¸ºä¸Šè¿°æ¨¡å¼éœ€è¦è§£å†³çš„é—®é¢˜ï¼š
  <a class="anchor" href="#%e5%b0%86%e7%8e%b0%e8%a1%8c%e6%9c%8d%e5%8a%a1%e6%94%b9%e9%80%a0%e6%88%90%e4%b8%ba%e4%b8%8a%e8%bf%b0%e6%a8%a1%e5%bc%8f%e9%9c%80%e8%a6%81%e8%a7%a3%e5%86%b3%e7%9a%84%e9%97%ae%e9%a2%98">#</a>
</h3>
<ul>
<li>etcd é…ç½®å®‰è£…</li>
<li>ç½‘å…³ç¨‹åºæ”¹é€ ï¼ˆç›‘å¬etcdçš„èŠ‚ç‚¹å¤¹å­/prefix;é€‚é…åŠ¨æ€çš„æœåŠ¡å®ä¾‹è°ƒç”¨ï¼‰</li>
<li>æœåŠ¡å®ä¾‹æ”¹é€ ï¼ˆæ³¨å†ŒæœåŠ¡å®ä¾‹åˆ°etcd;å¿ƒè·³æ›´æ–°;å…¶ä»–é…å¥—è®¾æ–½ï¼Œå¼‚å¸¸é€€å‡ºåˆ é™¤æ³¨å†Œä¿¡æ¯ï¼‰</li>
</ul>
<p>etcdå®‰è£…é…ç½®åœ¨github.comå·²ç»éå¸¸è¯¦ç»†äº†ã€‚åœ¨è¿™é‡Œè´´ä¸€ä¸‹æˆ‘åœ¨æœ¬åœ°æµ‹è¯•æ—¶å€™å¯åŠ¨çš„è„šæœ¬ï¼ˆè¿™éƒ¨åˆ†æ˜¯ä»etcd-demoè·å–åˆ°çš„ï¼Œåšäº†é’ˆå¯¹ç«¯å£çš„æ”¹åŠ¨ï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># For each machine</span>
</span></span><span style="display:flex;"><span>TOKEN<span style="color:#f92672">=</span>token-01
</span></span><span style="display:flex;"><span>CLUSTER_STATE<span style="color:#f92672">=</span>new
</span></span><span style="display:flex;"><span>NAME_1<span style="color:#f92672">=</span>machine1
</span></span><span style="display:flex;"><span>NAME_2<span style="color:#f92672">=</span>machine2
</span></span><span style="display:flex;"><span>NAME_3<span style="color:#f92672">=</span>machine3
</span></span><span style="display:flex;"><span>HOST_1<span style="color:#f92672">=</span>127.0.0.1
</span></span><span style="display:flex;"><span>HOST_2<span style="color:#f92672">=</span>127.0.0.1
</span></span><span style="display:flex;"><span>HOST_3<span style="color:#f92672">=</span>127.0.0.1
</span></span><span style="display:flex;"><span>CLUSTER<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>NAME_1<span style="color:#e6db74">}</span><span style="color:#f92672">=</span>http://<span style="color:#e6db74">${</span>HOST_1<span style="color:#e6db74">}</span>:2380,<span style="color:#e6db74">${</span>NAME_2<span style="color:#e6db74">}</span><span style="color:#f92672">=</span>http://<span style="color:#e6db74">${</span>HOST_2<span style="color:#e6db74">}</span>:2381,<span style="color:#e6db74">${</span>NAME_3<span style="color:#e6db74">}</span><span style="color:#f92672">=</span>http://<span style="color:#e6db74">${</span>HOST_3<span style="color:#e6db74">}</span>:2382
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># For machine 1</span>
</span></span><span style="display:flex;"><span>THIS_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>NAME_1<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>THIS_IP<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>HOST_1<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>etcd --data-dir<span style="color:#f92672">=</span>machine1.etcd --name <span style="color:#e6db74">${</span>THIS_NAME<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-advertise-peer-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2380 --listen-peer-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2380 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--advertise-client-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2377 --listen-client-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2377 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-cluster <span style="color:#e6db74">${</span>CLUSTER<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-cluster-state <span style="color:#e6db74">${</span>CLUSTER_STATE<span style="color:#e6db74">}</span> --initial-cluster-token <span style="color:#e6db74">${</span>TOKEN<span style="color:#e6db74">}</span> &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># For machine 2</span>
</span></span><span style="display:flex;"><span>THIS_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>NAME_2<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>THIS_IP<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>HOST_2<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>etcd --data-dir<span style="color:#f92672">=</span>machine2.etcd --name <span style="color:#e6db74">${</span>THIS_NAME<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-advertise-peer-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2381 --listen-peer-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2381 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--advertise-client-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2378 --listen-client-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2378 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-cluster <span style="color:#e6db74">${</span>CLUSTER<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-cluster-state <span style="color:#e6db74">${</span>CLUSTER_STATE<span style="color:#e6db74">}</span> --initial-cluster-token <span style="color:#e6db74">${</span>TOKEN<span style="color:#e6db74">}</span> &amp; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># For machine 3</span>
</span></span><span style="display:flex;"><span>THIS_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>NAME_3<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>THIS_IP<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>HOST_3<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>etcd --data-dir<span style="color:#f92672">=</span>machine3.etcd --name <span style="color:#e6db74">${</span>THIS_NAME<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-advertise-peer-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2382 --listen-peer-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2382 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--advertise-client-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2379 --listen-client-urls http://<span style="color:#e6db74">${</span>THIS_IP<span style="color:#e6db74">}</span>:2379 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-cluster <span style="color:#e6db74">${</span>CLUSTER<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>	--initial-cluster-state <span style="color:#e6db74">${</span>CLUSTER_STATE<span style="color:#e6db74">}</span> --initial-cluster-token <span style="color:#e6db74">${</span>TOKEN<span style="color:#e6db74">}</span> &amp;
</span></span></code></pre></div><p>å¯¹äºç¨‹åºçš„æ”¹é€ ï¼Œé‰´äºæœåŠ¡è¾ƒå¤šä¸”etcdæ“ä½œæµç¨‹å¤§ä½“ä¸€è‡´ï¼Œä¾¿ç®€å•åŒ…è£…äº†ä¸€ä¸‹ï¼Œé¡¹ç›®åœ°å€è§æ–‡é¦–ä½ç½®ã€‚</p>
        <a href="/2018/10/23/etcd-service-registration-discovery/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2018/08/29/Golang%E9%80%82%E7%94%A8%E7%9A%84DTO%E5%B7%A5%E5%85%B7/">Golangé€‚ç”¨çš„DTOå·¥å…·</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>August 29, 2018</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/Golang/">Golang</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/Tools/">Tools</a>, 
      <a href="/tags/DTO/">DTO</a>
  </div>
  


    <p><blockquote>
<p>DTO (Data Transfer Object) æ˜¯Javaä¸­çš„æ¦‚å¿µï¼Œèµ·åˆ°æ•°æ®å°è£…å’Œéš”ç¦»çš„ä½œç”¨ã€‚åœ¨ä½¿ç”¨Golangå¼€å‘Webåº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæœ‰ç±»ä¼¼çš„éœ€æ±‚ã€‚å…ˆè´´é¡¹ç›®åœ°å€ <a href="https://github.com/yeqown/server-common/tree/master/dbs/tools">github.com/yeqown/server-common/tree/master/dbs/tools</a></p>
</blockquote>
<!-- more -->
<h3 id="ä¸¾ä¸ªä¾‹å­">
  ä¸¾ä¸ªä¾‹å­
  <a class="anchor" href="#%e4%b8%be%e4%b8%aa%e4%be%8b%e5%ad%90">#</a>
</h3>
<p>ç°åœ¨æœ‰ä¸€ä¸ªç”¨æˆ·æ•°æ®ç»“æ„å¦‚ä¸‹,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Golang" data-lang="Golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UserModel</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ID</span>          <span style="color:#66d9ef">int64</span>   <span style="color:#e6db74">`gorm:&#34;column:id&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>        <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`gorm:&#34;column:name&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Password</span>    <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`gorm:&#34;column:password&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>// é—®é¢˜1: ç°åœ¨è¦æ±‚æ˜¯æƒ³è¦JSONæ ¼å¼è¿”å›ç”¨æˆ·æ•°æ®ï¼Œå¹¶ä¸”ä¸å¸Œæœ›å…¶ä¸­åŒ…å«æœ‰Passwordå­—æ®µ
// è§£å†³1:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Golang" data-lang="Golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UserModel</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ID</span>          <span style="color:#66d9ef">int64</span>   <span style="color:#e6db74">`gorm:&#34;column:id&#34; json:&#34;id&#34;`</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>        <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`gorm:&#34;column:name&#34; json:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Password</span>    <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`gorm:&#34;column:password&#34; json:&#34;-&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>// é—®é¢˜2: åŒæ ·æ˜¯JSONæ•°æ®æ ¼å¼ï¼Œå¹¶ä¸”å¸Œæœ›é¢å¤–è¿”å›ç”¨æˆ·çš„èº«ä»½æ ‡ç¤ºIdentï¼ˆå‡è®¾å¿…é¡»è¦è·Ÿç”¨æˆ·æ•°æ®æ”¾åœ¨ä¸€èµ·ï¼‰
// è§£å†³2: ï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘çš„åœºæ™¯ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Golang" data-lang="Golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UserDTO</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ID</span>          <span style="color:#66d9ef">int64</span>   <span style="color:#e6db74">`json:&#34;id&#34;`</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>        <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`json:&#34;name&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Password</span>    <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`json:&#34;-&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Ident</span>       <span style="color:#66d9ef">string</span>  <span style="color:#e6db74">`json:&#34;ident&#34;`</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">LoadUserDTOFromModel</span>(<span style="color:#a6e22e">data</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">UserMolde</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">UserDTO</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ident</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">genUserIdent</span>(<span style="color:#a6e22e">data</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ID</span>          <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">ID</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Name</span>        <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Name</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Ident</span>       <span style="color:#a6e22e">ident</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="èƒŒæ™¯å’Œéœ€æ±‚">
  èƒŒæ™¯å’Œéœ€æ±‚
  <a class="anchor" href="#%e8%83%8c%e6%99%af%e5%92%8c%e9%9c%80%e6%b1%82">#</a>
</h3>
<p>ä¸€èˆ¬æ¥è¯´æˆ‘çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼šå…¶ä¸­modelså’Œservicesä¹Ÿå°±æ˜¯åˆ†å¼€å®šä¹‰Data struct(UserModel)å’ŒObject(UserDTO)çš„æ–‡ä»¶å¤¹ã€‚</p>
<p><img src="/images/dbtools-web-filetree.png" alt="Webé¡¹ç›®ç»“æ„ä¸¾ä¾‹" /></p>
<p>å…¶å®DTOçš„è¿‡ç¨‹å¯¹äºæˆ‘æ¥è¯´ï¼Œå°±æ˜¯åŸºäºData Structç”Ÿæˆä¸€ä¸ªæ–°çš„Structç»“æ„ï¼Œå¹¶é™„å¸¦ä¸€ä¸ª<code>func LoadDTOTypeFromModel(data *ModelType) *DTOType</code>ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå…¶å®é™¤äº†ä¸ªåˆ«Objectç»“æ„ä½“éœ€è¦é¢å¤–å¤„ç†ä»¥å¤–ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æ–°æ¢ä¸€ä¸ªtag~ã€‚å› æ­¤è¿™éƒ¨åˆ†å·¥ä½œæ­¥éª¤éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç”¨ä¸€ä¸ªå·¥å…·æ¥é¿å…è¿™éƒ¨åˆ†é‡å¤çš„å·¥ä½œå‘¢ï½ï¼Ÿ</p>
<h3 id="æ€è·¯">
  æ€è·¯
  <a class="anchor" href="#%e6%80%9d%e8%b7%af">#</a>
</h3>
<p>å…ˆè¯´ä¸€ä¸‹æ€è·¯:</p>
        <a href="/2018/08/29/Golang%E9%80%82%E7%94%A8%E7%9A%84DTO%E5%B7%A5%E5%85%B7/">...</a>
      
    </p>
  </article>
  

  
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/tags/Golang/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/tags/Golang/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/tags/Golang/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/tags/Golang/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/tags/Golang/page/3/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/tags/Golang/page/3/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">






<div class="flex align-center">
    <span id="busuanzi_container_site_pv" style="margin-right: 10px;">
        è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>
    </span>
    <span id="busuanzi_container_site_uv" style="margin-right: 10px;">
        è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>
    </span>
</div></div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%80%BB%E7%BB%93/">æ€»ç»“</a>
          <span>33</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%9E%B6%E6%9E%84/">æ¶æ„</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Golang/">Golang</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Kubernetes/">Kubernetes</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Service-Mesh/">Service Mesh</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/design/">Design</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Tracing/">Tracing</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/DevOps/">DevOps</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Test/">Test</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">å¸¸ç”¨å‘½ä»¤</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/tags/Victoria-Logs/">Victoria Logs</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%97%E5%BC%8F%E5%AD%98%E5%82%A8/">åˆ—å¼å­˜å‚¨</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%AD%98%E5%82%A8/">å­˜å‚¨</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%97%A5%E5%BF%97/">æ—¥å¿—</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/GC/">GC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Golang/">Golang</a>
          <span>30</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Green-Tea/">Green Tea</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Debezium/">Debezium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Incremental-Snapshot/">Incremental Snapshot</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka-Connect/">Kafka Connect</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Mongodb/">Mongodb</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Source-Connector/">Source Connector</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Apache-Doris/">Apache Doris</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MySQL/">Mysql</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Prepared-Statements/">Prepared Statements</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka/">Kafka</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MirrorMaker2/">MirrorMaker2</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Replication/">Replication</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Javascript/">Javascript</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/python/">Python</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rust/">Rust</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WASM/">WASM</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WebAssembly/">WebAssembly</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/gRPC/">GRPC</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/grpcreplay/">Grpcreplay</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Istio/">Istio</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kubernetes/">Kubernetes</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/sidecar/">Sidecar</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/traffic-mirror/">Traffic Mirror</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%8D%8F%E8%AE%AE/">åè®®</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Doris/">Doris</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/FoundationDB/">FoundationDB</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB/">å­˜ç®—åˆ†ç¦»</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memcached/">Memcached</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rendezvous-Hashing/">Rendezvous Hashing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcpdump/">Tcpdump</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/wireshark/">Wireshark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/APISIX/">APISIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CDC/">CDC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DMS/">DMS</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pyroscope/">Pyroscope</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShardingSphere-Proxy/">ShardingSphere Proxy</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/shardingsphere/">Shardingsphere</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">åˆ†åº“åˆ†è¡¨</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Envoy/">Envoy</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/kubenertes/">Kubenertes</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/service-mesh/">Service Mesh</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MQ/">MQ</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/multi-raft/">Multi-Raft</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/nats/">Nats</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/raft/">Raft</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fsnotify/">Fsnotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/inotify/">Inotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/linux/">Linux</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/c/">C</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/lua/">Lua</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/redis/">Redis</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/exec/">Exec</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fork/">Fork</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Graceful-Restart/">Graceful Restart</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcp/">TCP</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Cloudflare/">Cloudflare</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/SSH/">SSH</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tunnel/">Tunnel</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CGO/">CGO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/POSIX/">POSIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CronJob/">CronJob</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed/">Distributed</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/k8s/">K8s</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Fieldmask/">Fieldmask</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/protocol-buffers/">Protocol-Buffers</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/OpenTelemetry/">OpenTelemetry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Sentry/">Sentry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tools/">Tools</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Load-Balancing/">Load Balancing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker/">Docker</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E9%95%9C%E5%83%8F/">é•œåƒ</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jaeger/">Jaeger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Opentracing/">Opentracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tracing/">Tracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Channel/">Channel</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/goim/">Goim</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Gin/">Gin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memory-leak/">Memory Leak</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/pprof/">Pprof</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hashtable/">Hashtable</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/im/">Im</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/socket.io/">Socket.io</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/cache/">Cache</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/repository/">Repository</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/AMQP/">AMQP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Network/">Network</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Ring-Buffer/">Ring Buffer</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Caching/">Caching</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU/">LRU</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU-K/">LRU-K</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Crypto/">Crypto</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RC4/">RC4</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/snowflake/">Snowflake</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hot-reload/">Hot-Reload</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Swagger/">Swagger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/QR-Code/">QR Code</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/etcd/">Etcd</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/microservice/">Microservice</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0/">æœåŠ¡æ³¨å†Œå‘ç°</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DTO/">DTO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/HTTP/">HTTP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Note/">Note</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/api-gateway/">Api-Gateway</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/round-robin/">Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/weighted-round-robin/">Weighted-Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/JSON-RPC2.0/">JSON-RPC2.0</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RPC/">RPC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/App/">App</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RN/">RN</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Spider/">Spider</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CD/">CD</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CI/">CI</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jenkins/">Jenkins</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed-Architecture/">Distributed Architecture</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/aliyun/">Aliyun</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/rds/">Rds</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Trie/">Trie</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Dynamic-Programming/">Dynamic Programming</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Levenshtein-Distance/">Levenshtein Distance</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShortURL/">ShortURL</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/drone/">Drone</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker-compose/">Docker Compose</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/selenium/">Selenium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Test/">Test</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pytest/">Pytest</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Git/">Git</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/database/">Database</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/index/">Index</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>

 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












