<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://www.yeqown.xyz/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">
  <meta property="og:site_name" content="Yeqown">
  <meta property="og:title" content="技术总结">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<title>技术总结 | Yeqown</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://www.yeqown.xyz/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">
<link rel="stylesheet" href="/book.min.c2fbf3db843e2f212ac724c116ea0973ae0c44d9926b1c14e16b29de812a6dc5.css" integrity="sha256-wvvz24Q&#43;LyEqxyTBFuoJc64MRNmSaxwU4Wsp3oEqbcU=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.38acbfa5730860fb2f583635d275e043feb2eae8ec219fbb38dc639f42eb6855.js" integrity="sha256-OKy/pXMIYPsvWDY10nXgQ/6y6ujsIZ&#43;7ONxjn0LraFU=" crossorigin="anonymous"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade"><link rel="alternate" type="application/rss+xml" href="https://www.yeqown.xyz/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/index.xml" title="Yeqown" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Yeqown</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>







  
<ul>
  
  <li>
    <a href="/categories"  target="_blank" rel="noopener">
        Categories
      </a>
  </li>
  
  <li>
    <a href="/tags"  target="_blank" rel="noopener">
        Tags
      </a>
  </li>
  
</ul>










  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aboutme/" class="">About Me</a>
  

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>技术总结</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
          <span>32</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Kubernetes/">Kubernetes</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Service-Mesh/">Service Mesh</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Golang/">Golang</a>
          <span>11</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/design/">Design</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Tracing/">Tracing</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/DevOps/">DevOps</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Test/">Test</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">常用命令</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/tags/Debezium/">Debezium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Incremental-Snapshot/">Incremental Snapshot</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka-Connect/">Kafka Connect</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Mongodb/">Mongodb</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Source-Connector/">Source Connector</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Apache-Doris/">Apache Doris</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MySQL/">Mysql</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Prepared-Statements/">Prepared Statements</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka/">Kafka</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MirrorMaker2/">MirrorMaker2</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Replication/">Replication</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Javascript/">Javascript</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/python/">Python</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rust/">Rust</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WASM/">WASM</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WebAssembly/">WebAssembly</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/gRPC/">GRPC</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/grpcreplay/">Grpcreplay</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Istio/">Istio</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kubernetes/">Kubernetes</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/sidecar/">Sidecar</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/traffic-mirror/">Traffic Mirror</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%8D%8F%E8%AE%AE/">协议</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Doris/">Doris</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/FoundationDB/">FoundationDB</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB/">存算分离</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memcached/">Memcached</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rendezvous-Hashing/">Rendezvous Hashing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcpdump/">Tcpdump</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/wireshark/">Wireshark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/APISIX/">APISIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CDC/">CDC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DMS/">DMS</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pyroscope/">Pyroscope</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShardingSphere-Proxy/">ShardingSphere Proxy</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/shardingsphere/">Shardingsphere</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">分库分表</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Envoy/">Envoy</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/kubenertes/">Kubenertes</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/service-mesh/">Service Mesh</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Golang/">Golang</a>
          <span>29</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MQ/">MQ</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/multi-raft/">Multi-Raft</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/nats/">Nats</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/raft/">Raft</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fsnotify/">Fsnotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/inotify/">Inotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/linux/">Linux</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/c/">C</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/lua/">Lua</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/redis/">Redis</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/exec/">Exec</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fork/">Fork</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Graceful-Restart/">Graceful Restart</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcp/">TCP</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Cloudflare/">Cloudflare</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/SSH/">SSH</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tunnel/">Tunnel</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CGO/">CGO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/POSIX/">POSIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CronJob/">CronJob</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed/">Distributed</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/k8s/">K8s</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Fieldmask/">Fieldmask</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/protocol-buffers/">Protocol-Buffers</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/OpenTelemetry/">OpenTelemetry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Sentry/">Sentry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tools/">Tools</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Load-Balancing/">Load Balancing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker/">Docker</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E9%95%9C%E5%83%8F/">镜像</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jaeger/">Jaeger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Opentracing/">Opentracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tracing/">Tracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Channel/">Channel</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/goim/">Goim</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Gin/">Gin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memory-leak/">Memory Leak</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/pprof/">Pprof</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hashtable/">Hashtable</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/im/">Im</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/socket.io/">Socket.io</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/cache/">Cache</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/repository/">Repository</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/AMQP/">AMQP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%8B%86%E5%8C%85/">拆包</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E7%B2%98%E5%8C%85/">粘包</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Ring-Buffer/">Ring Buffer</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Caching/">Caching</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU/">LRU</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU-K/">LRU-K</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Crypto/">Crypto</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RC4/">RC4</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/snowflake/">Snowflake</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hot-reload/">Hot-Reload</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Swagger/">Swagger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/QR-Code/">QR Code</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/etcd/">Etcd</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/microservice/">Microservice</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0/">服务注册发现</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DTO/">DTO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/HTTP/">HTTP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Note/">Note</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/api-gateway/">Api-Gateway</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/round-robin/">Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/weighted-round-robin/">Weighted-Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/JSON-RPC2.0/">JSON-RPC2.0</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RPC/">RPC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/App/">App</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RN/">RN</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Spider/">Spider</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CD/">CD</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CI/">CI</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jenkins/">Jenkins</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed-Architecture/">Distributed Architecture</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/aliyun/">Aliyun</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/rds/">Rds</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Trie/">Trie</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Dynamic-Programming/">Dynamic Programming</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Levenshtein-Distance/">Levenshtein Distance</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShortURL/">ShortURL</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/drone/">Drone</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker-compose/">Docker Compose</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/selenium/">Selenium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Test/">Test</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pytest/">Pytest</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Git/">Git</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/database/">Database</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/index/">Index</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/10/16/debezium-Mongodb-Connector-%E5%A2%9E%E9%87%8F%E5%BF%AB%E7%85%A7%E4%BD%BF%E7%94%A8/">Debezium Mongodb Connector 增量快照使用</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>October 16, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Kafka-Connect/">Kafka Connect</a>, 
      <a href="/tags/Mongodb/">Mongodb</a>, 
      <a href="/tags/Source-Connector/">Source Connector</a>, 
      <a href="/tags/Debezium/">Debezium</a>, 
      <a href="/tags/Incremental-Snapshot/">Incremental Snapshot</a>
  </div>
  


    <p><blockquote>
<p>之前的博客 <a href="https://yeqown.xyz/2024/12/17/%E8%BF%91%E6%9C%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/#16-cdc-kafka-connect-mongodb-%e4%be%a7%e5%8f%8d%e5%a4%8d%e8%bf%9b%e8%a1%8c-%e5%bf%ab%e7%85%a7-%e5%af%bc%e8%87%b4%e6%95%b0%e6%8d%ae%e5%90%8c%e6%ad%a5%e5%bc%82%e5%b8%b8">Kafka Connect Mongodb 反复快照 - 大数据集快照</a></p>
</blockquote>
<p><em>本文中使用的 <code>MongodbSourceConnector</code> 是 <code>io.debezium.connector.mongodb.MongoDbConnector 2.2.1.Final</code>。</em></p>
<h2 id="机制简介">
  机制简介
  <a class="anchor" href="#%e6%9c%ba%e5%88%b6%e7%ae%80%e4%bb%8b">#</a>
</h2>
<p>为了提供管理快照的灵活性，Debezium 包含一个补充快照机制，称为增量快照。增量快照依赖于 Debezium 机制向 Debezium 连接器发送信号。‼️ <em><strong>增量快照运行时，不会阻塞变更流事件处理</strong></em>。</p>
<blockquote>
<p>初始快照会先保存 change stream 的位点，开始执行全量快照，全量快照完成后，再从保存的位点开始增量处理变更事件。</p>
</blockquote>
<p>目前 Debezium 支持增量快照的连接器有：</p>
<ul>
<li>Db2</li>
<li>MariaDB (Technology Preview)</li>
<li>MongoDB</li>
<li>MySQL</li>
<li>Oracle</li>
<li>PostgreSQL</li>
<li>SQL Server</li>
</ul>
<p>发送这个信号支持多种方式，通过配置 <code>signal.enabled.channels</code> 来指定，默认为 <code>source</code>（也就是数据集合方式），可选值有：source、kafka、file 和 jmx：</p>
<ul>
<li>source 源数据库： 配置 <code>signal.data.collection</code> 来指定集合</li>
<li>kafka: 配置 <code>signal.kafka.topic</code> 来指定 topic</li>
<li>file: 配置 <code>signal.file</code> 来指定文件路径，写入文件的格式数据为 JSON，字段取值参考下面的表格。</li>
<li>jmx: 启用 <code>JMX MBean Server</code> 来暴露 signaling bean</li>
</ul>
<p>需要启用增量快照时，只需要向特定方式中写入数据即可。如果是 source 只需要向数据库中插入一条数据，如果是 kafka 那么则是投递一条消息。</p>
        <a href="/2025/10/16/debezium-Mongodb-Connector-%E5%A2%9E%E9%87%8F%E5%BF%AB%E7%85%A7%E4%BD%BF%E7%94%A8/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/10/14/Apache-Doris-PreparedStatement%E9%97%AE%E9%A2%98%E6%8E%A2%E7%A9%B6/">Apache Doris PreparedStatement 之谜</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>October 14, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Apache-Doris/">Apache Doris</a>, 
      <a href="/tags/MySQL/">Mysql</a>, 
      <a href="/tags/Prepared-Statements/">Prepared Statements</a>
  </div>
  


    <p><blockquote>
<p>使用的 Apache Doris 版本：3.0.3, 对应的 Doris 源码如果没有特意说明，均为 3.0.3 版本。</p>
</blockquote>
<h2 id="背景">
  背景
  <a class="anchor" href="#%e8%83%8c%e6%99%af">#</a>
</h2>
<p>运营反馈了一些业务异常，这些异常都指向了一个 Doris 数据查询服务（后都用 DQ-1 指代），该服务日志中存在大量的错误日志，如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>platformAwardBiz.GetByID failed: Error <span style="color:#ae81ff">1047</span> <span style="color:#f92672">(</span>08S01<span style="color:#f92672">)</span>: msg: Not supported such prepared statement
</span></span></code></pre></div><p>日志中发现，全部的查询均报了 <code>Not supported such prepared statement</code> 错误，而不是存在特定的查询语句。而与此同时，另外的 Doris 查询服务 (后使用 DQ-2 指代) 并没有出现该错误日志。</p>
<p><code>DQ-1</code> 使用 golang 编写，使用了 <code>gorm</code> 作为连接 Doris 的查询工具。<code>DQ-2</code> 使用了 python3编写，使用了 <code>pymysql</code> 作为连接 Doris 的查询工具。</p>
<p>发现问题后，猜测是 prepared statement 机制的相关问题，快速解决方案选择了重启 <code>DQ-1</code> 和 Doris FE 节点，然后错误消失。</p>
<h2 id="问题分析">
  问题分析
  <a class="anchor" href="#%e9%97%ae%e9%a2%98%e5%88%86%e6%9e%90">#</a>
</h2>
<p>首先从日志入手，采集了 FE 的错误日志，但经过排查没有发现明显的异常日志。经过检索搜索引擎和社区，也没有发现有相关的 issue。</p>
<p>那只能从源码入手了。在进去源码分析之前，这里带着几个疑问：</p>
        <a href="/2025/10/14/Apache-Doris-PreparedStatement%E9%97%AE%E9%A2%98%E6%8E%A2%E7%A9%B6/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/09/28/Apache-Kafka-MirrorMaker2%E4%BB%8E%E4%BD%BF%E7%94%A8%E5%88%B0%E8%BF%81%E7%A7%BB/">Kafka MirrorMaker2 从使用到迁移</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>September 28, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Kafka/">Kafka</a>, 
      <a href="/tags/MirrorMaker2/">MirrorMaker2</a>, 
      <a href="/tags/Kafka-Connect/">Kafka Connect</a>, 
      <a href="/tags/Replication/">Replication</a>
  </div>
  


    <p><blockquote>
<p>本文中使用的 Kafka 版本为 v3.3.2</p>
</blockquote>
<h2 id="引言">
  引言
  <a class="anchor" href="#%e5%bc%95%e8%a8%80">#</a>
</h2>
<p>Kafka MirrorMaker2 是 Kafka 官方提供的跨集群数据复制工具, 它是基于 Kafka Connect 框架构建的。MirrorMaker2 支持多种部署模式, 包括 Dedicated 模式和 Connect 集群模式，还有 standalone 模式。</p>
<p>其中, Dedicated 模式有一个启动脚本 <code>kafka-mirror-maker.sh</code>, 该脚本会启动一个独立的 MirrorMaker2 实例, 而不需要依赖 Kafka Connect 集群。Dedicated 模式适合小规模的复制任务, 但在大规模部署中, 它缺乏可扩展性和高可用性。</p>
<p>相比之下, Connect 集群模式则是先搭建出一个 Kafka Connect 集群, 再提交 <code>MirrorMaker2</code> 的 <code>MirrorSourceConnector</code> 任务。这种模式下, 可以通过增加或减少 Connect 工作节点来动态调整复制任务的资源, 具备更好的弹性和容错能力。</p>
<blockquote>
<p>当然配置上也会更复杂一些, 需要管理 Connect 集群的配置和任务。</p>
</blockquote>
<p>那么, 如果我们已经在使用 Dedicated 模式部署了 MirrorMaker2, 但现在需要切换到 Connect 集群模式, 应该如何操作呢? 本文将介绍从 Dedicated 模式迁移到 Connect 集群模式时，怎么处理已经同步的 offset 进度, 以确保数据的一致性和连续性。</p>
        <a href="/2025/09/28/Apache-Kafka-MirrorMaker2%E4%BB%8E%E4%BD%BF%E7%94%A8%E5%88%B0%E8%BF%81%E7%A7%BB/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/07/02/WebAssemblySpec%E6%B5%85%E6%9E%90%E5%92%8C%E8%B7%A8%E8%AF%AD%E8%A8%80%E5%AE%9E%E8%B7%B5/">WebAssembly Spec 浅析和跨语言实践</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>July 2, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/WebAssembly/">WebAssembly</a>, 
      <a href="/tags/Rust/">Rust</a>, 
      <a href="/tags/python/">Python</a>, 
      <a href="/tags/Javascript/">Javascript</a>, 
      <a href="/tags/WASM/">WASM</a>
  </div>
  


    <p><blockquote>
<p>本文主要聚焦于 WebAssembly 的核心规范（Core Spec）部分。WASI 和 Embedder Spec 等其他部分并非本文的重点，感兴趣的读者可自行查阅相关资料。</p>
</blockquote>
<img src="/images/wasm/intro.png">
<h2 id="目的">
  目的
  <a class="anchor" href="#%e7%9b%ae%e7%9a%84">#</a>
</h2>
<p>随着 Web 技术的普及，越来越多的应用场景（如游戏、音视频处理、AI 等）需要在浏览器中运行。这些场景通常涉及 CPU 密集型任务，而现有 Web 引擎在处理此类任务时，性能仍不及原生语言。此外，C/C++ 等语言已积累了大量成熟的库，为了高效复用这些库以扩展 Web 的能力，急需一种新方式，使 C++/Rust 等语言也能在浏览器环境中运行。</p>
<p>为解决上述问题，W3C 提出了 WebAssembly 规范。该规范设计了一种全新的、与机器无关的汇编指令集、运行时（可理解为虚拟机）以及内存模型等。</p>
<p>WebAssembly 规范发布后，各大浏览器厂商迅速跟进支持，使其成为一种跨平台的二进制格式，能够在不同操作系统和硬件平台上运行。WASM 的应用范围也因此不再局限于 Web 场景，而是扩展到移动端、服务器端等领域。在云原生领域，Envoy、Kong 和 Apisix 等项目已支持 WASM 作为其扩展插件。WasmEdge 更进一步，直接提出将 WASM 应用于边缘计算场景，例如无服务器应用和函数即服务等。</p>
<h2 id="核心概念">
  核心概念
  <a class="anchor" href="#%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5">#</a>
</h2>
<p>在最新规范中，WebAssembly 定义了以下核心概念：</p>
<table>
  <thead>
      <tr>
          <th>概念</th>
          <th>解释说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Values</strong></td>
          <td>提供四种基础数值类型：32位和64位的整型及浮点型。32位整型可用于表示布尔值或内存地址。另有128位扩展整型用于高精度计算。</td>
      </tr>
      <tr>
          <td><strong>Instructions</strong></td>
          <td>基于栈式虚拟机执行的指令，分为简单指令和控制指令两类。</td>
      </tr>
      <tr>
          <td><strong>Traps</strong></td>
          <td>类似异常机制，当发生非法操作（如越界访问）时立即中止执行并报告宿主环境。功能类似于Go/Rust中的panic。</td>
      </tr>
      <tr>
          <td><strong>Functions</strong></td>
          <td>与其他编程语言一致，用于组织特定功能的代码，接收参数并返回结果。</td>
      </tr>
      <tr>
          <td><strong>Tables</strong></td>
          <td>数据结构上是一个数组，用于存储特定类型（<code>funcref</code>和<code>externref</code>），可通过索引模拟函数指针。</td>
      </tr>
      <tr>
          <td><strong>Linear Memory</strong></td>
          <td>一段可动态增长的连续字节数组，程序可存储和加载其中任意位置的数据，越界访问会触发Trap。</td>
      </tr>
      <tr>
          <td><strong>Modules</strong></td>
          <td>包含类型、函数、表、内存和全局变量的定义，作为部署、加载和编译的基本单位。可声明导入导出项，并支持定义自动执行的启动函数。</td>
      </tr>
      <tr>
          <td><strong>Embedder</strong></td>
          <td>指将WebAssembly程序嵌入宿主环境的实现方式，如wasmtime或Web环境中的WebAssembly运行时。</td>
      </tr>
  </tbody>
</table>
<img src="/images/wasm/concepts.png">
<h2 id="举例分析">
  举例分析
  <a class="anchor" href="#%e4%b8%be%e4%be%8b%e5%88%86%e6%9e%90">#</a>
</h2>
<p>接下来，我们将结合一个简单的 WASM 程序来辅助理解 WebAssembly 规范的内容。这里使用 Rust 语言编写一个简单的加法程序，并将其编译为 WASM 模块：</p>
        <a href="/2025/07/02/WebAssemblySpec%E6%B5%85%E6%9E%90%E5%92%8C%E8%B7%A8%E8%AF%AD%E8%A8%80%E5%AE%9E%E8%B7%B5/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/04/24/kafka-mongodb%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E7%BA%AA%E8%A6%81/">Kafka &#43; Mongodb 通信协议纪要</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>April 24, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Kafka/">Kafka</a>, 
      <a href="/tags/Mongodb/">Mongodb</a>, 
      <a href="/tags/%E5%8D%8F%E8%AE%AE/">协议</a>
  </div>
  


    <p><p>Kafka 和 MongoDB 是目前使用比较广泛的消息队列和数据库，在之前的很长时间里对这两个软件系统的理解都停留在概念和使用上，直到最近遇到一个“诡异”的问题，已有的经验和调试方法无法定位时，最终尝试了下抓包分析才最终定位到问题的根源。</p>
<blockquote>
<p><strong>问题描述：</strong>
使用 sarama 编写了一个 kafka 消费者组，这里不同寻常的地方在于：手动提交 + 批量消费。遇到的问题：某些分区消费进度无法成功提交，但是消息是消费成功的。出现这种情况的分区没有规律，触发 rebalance 后 “故障分区” 有概率会发生变化。</p>
<p><strong>分析/定位</strong>：这里很明显的问题在于手动提交 offset 为什么不成功？从实现来说，提交 offset 的逻辑跟分区没有关系是一致，那这种不确定性故障时从哪儿来的？而且还和 rebalance 相关。
梳理下 kafka 客户端消费提交涉及到的操作：<code>Fetch</code>, <code>OffsetCommit</code>, 但是消费是正常的，那么只需要抓包分析 <code>OffsetCommit</code> 就可以知道 offset 提交存在什么问题。</p>
<p><strong>结果</strong>：
通过抓包一切都明朗了：出现问题的分区同时有多个 OffsetCommit 请求，且其中有的请求提交的 offset 一致停留在一个 “旧的” 位置，不会更新，这样就缩小了范围：程序提交 offset 逻辑异常。</p>
</blockquote>
<img src="/images/mongo-kafka-protocol/protocol-concept-illustration.jpeg" width="100%" />
<h2 id="kafka-协议">
  KAFKA 协议
  <a class="anchor" href="#kafka-%e5%8d%8f%e8%ae%ae">#</a>
</h2>
<p>Kafka 协议是基于 TCP/IP 协议的二进制协议。其结构组成如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> RequestOrResponse {
</span></span><span style="display:flex;"><span>    RequestResponseHeader requestResponseHeader; <span style="color:#75715e">// uint32 messageLength;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SpecificRequestOrResponseHeader body; <span style="color:#75715e">// 格式取决于具体的请求和响应，比如：RequestV1Header
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> RequestV1Header {
</span></span><span style="display:flex;"><span>  int16 apiKey;
</span></span><span style="display:flex;"><span>  int16 apiVersion;
</span></span><span style="display:flex;"><span>  int32 correlationId;
</span></span><span style="display:flex;"><span>  string clientId;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="协议结构">
  协议结构
  <a class="anchor" href="#%e5%8d%8f%e8%ae%ae%e7%bb%93%e6%9e%84">#</a>
</h3>
<blockquote>
<p><a href="https://kafka.apache.org/protocol.html#protocol_messages">https://kafka.apache.org/protocol.html#protocol_messages</a></p>
        <a href="/2025/04/24/kafka-mongodb%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E7%BA%AA%E8%A6%81/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/02/28/%E5%9C%A8k8s%E4%B8%AD%E6%90%AD%E5%BB%BA%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB%E7%9A%84Doris%E9%9B%86%E7%BE%A4/">在 K8S 中部署存算分离 Doris 集群</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>February 28, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/Doris/">Doris</a>, 
      <a href="/tags/Kubernetes/">Kubernetes</a>, 
      <a href="/tags/%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB/">存算分离</a>, 
      <a href="/tags/FoundationDB/">FoundationDB</a>
  </div>
  


    <p><blockquote class="book-hint info">
<p>本文记录了在 ubuntu 22.04 上配合 minikube 搭建的 k8s 集群，搭建 doris 存算分离集群的过程。</p>
</blockquote>
<h3 id="0-环境信息">
  0. 环境信息
  <a class="anchor" href="#0-%e7%8e%af%e5%a2%83%e4%bf%a1%e6%81%af">#</a>
</h3>
<table>
  <thead>
      <tr>
          <th>软件</th>
          <th>版本</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>OS</td>
          <td>Ubuntu 24.04.1 LTS x86_64</td>
      </tr>
      <tr>
          <td>kernel</td>
          <td>6.8.0-52-generic</td>
      </tr>
      <tr>
          <td>minikube</td>
          <td>v1.35.0</td>
      </tr>
      <tr>
          <td>kubernetes</td>
          <td>v1.32.0</td>
      </tr>
      <tr>
          <td>doris</td>
          <td>v3.0.3</td>
      </tr>
  </tbody>
</table>
<p>这里默认已经准备好了基础的 kubernetes 集群，所以也不再阐述如何通过 minikube 或者其他方式搭建 kubernetes 集群。</p>
<h3 id="1-安装-foundationdb">
  1. 安装 FoundationDB
  <a class="anchor" href="#1-%e5%ae%89%e8%a3%85-foundationdb">#</a>
</h3>
<blockquote>
<p>参考文档：https://doris.apache.org/zh-CN/docs/3.0/install/deploy-on-kubernetes/separating-storage-compute/install-fdb</p>
</blockquote>
<h4 id="11-安装-foundationdb-crd-资源">
  1.1 安装 FoundationDB CRD 资源
  <a class="anchor" href="#11-%e5%ae%89%e8%a3%85-foundationdb-crd-%e8%b5%84%e6%ba%90">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kubectl apply -f https://raw.githubusercontent.com/FoundationDB/fdb-kubernetes-operator/main/config/crd/bases/apps.foundationdb.org_foundationdbclusters.yaml
</span></span><span style="display:flex;"><span>kubectl apply -f https://raw.githubusercontent.com/FoundationDB/fdb-kubernetes-operator/main/config/crd/bases/apps.foundationdb.org_foundationdbbackups.yaml
</span></span><span style="display:flex;"><span>kubectl apply -f https://raw.githubusercontent.com/FoundationDB/fdb-kubernetes-operator/main/config/crd/bases/apps.foundationdb.org_foundationdbrestores.yaml
</span></span></code></pre></div><h4 id="12-部署-foundationdb-operator">
  1.2 部署 FoundationDB Operator
  <a class="anchor" href="#12-%e9%83%a8%e7%bd%b2-foundationdb-operator">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget https://raw.githubusercontent.com/apache/doris-operator/master/config/operator/fdb-operator.yaml
</span></span><span style="display:flex;"><span>kubectl apply -f fdb-operator.yaml
</span></span></code></pre></div><h4 id="13-部署-foundationdb-集群">
  1.3 部署 FoundationDB 集群
  <a class="anchor" href="#13-%e9%83%a8%e7%bd%b2-foundationdb-%e9%9b%86%e7%be%a4">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget https://raw.githubusercontent.com/foundationdb/fdb-kubernetes-operator/main/config/samples/cluster.yaml -O fdb-cluster.yaml
</span></span><span style="display:flex;"><span>kubectl apply -f fdb-cluster.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看集群状态</span>
</span></span><span style="display:flex;"><span>kubectl get fdb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 预期输出（启动需要时间，需要等待几分钟）</span>
</span></span><span style="display:flex;"><span>NAME           GENERATION   RECONCILED   AVAILABLE   FULLREPLICATION   VERSION   AGE
</span></span><span style="display:flex;"><span>test-cluster   <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>            true        true              7.1.26    3m30s
</span></span></code></pre></div><h3 id="2-安装-doris-operator">
  2. 安装 Doris Operator
  <a class="anchor" href="#2-%e5%ae%89%e8%a3%85-doris-operator">#</a>
</h3>
<h4 id="21-安装-crd-部署-doris-相关资源定义">
  2.1 安装 CRD 部署 Doris 相关资源定义
  <a class="anchor" href="#21-%e5%ae%89%e8%a3%85-crd-%e9%83%a8%e7%bd%b2-doris-%e7%9b%b8%e5%85%b3%e8%b5%84%e6%ba%90%e5%ae%9a%e4%b9%89">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl create -f https://raw.githubusercontent.com/apache/doris-operator/master/config/crd/bases/crds.yaml
</span></span></code></pre></div><h4 id="22-部署-doris-operator">
  2.2 部署 Doris Operator
  <a class="anchor" href="#22-%e9%83%a8%e7%bd%b2-doris-operator">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget https://raw.githubusercontent.com/apache/doris-operator/master/config/operator/disaggregated-operator.yaml -O disaggregated-operator.yaml
</span></span><span style="display:flex;"><span>kubectl apply -f disaggregated-operator.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看部署状态</span>
</span></span><span style="display:flex;"><span>kubectl get pod -n doris
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 预期输出</span>
</span></span><span style="display:flex;"><span>NAME                              READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>doris-operator-5fd65d8d69-rgqlk   1/1     Running   <span style="color:#ae81ff">0</span>          79s
</span></span></code></pre></div><h3 id="3-部署存算分离集群">
  3. 部署存算分离集群
  <a class="anchor" href="#3-%e9%83%a8%e7%bd%b2%e5%ad%98%e7%ae%97%e5%88%86%e7%a6%bb%e9%9b%86%e7%be%a4">#</a>
</h3>
<h4 id="31-下载示例配置">
  3.1 下载示例配置
  <a class="anchor" href="#31-%e4%b8%8b%e8%bd%bd%e7%a4%ba%e4%be%8b%e9%85%8d%e7%bd%ae">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget https://raw.githubusercontent.com/apache/doris-operator/master/doc/examples/disaggregated/cluster/ddc-sample.yaml -O ddc-sample.yaml
</span></span></code></pre></div><h4 id="32-配置-configmap">
  3.2 配置 ConfigMap
  <a class="anchor" href="#32-%e9%85%8d%e7%bd%ae-configmap">#</a>
</h4>
<p>对于 ddc-sample.yaml 配置进行调整配置。这三个都需要分别配置 ConfigMap 并修改集群中的配置挂载。</p>
        <a href="/2025/02/28/%E5%9C%A8k8s%E4%B8%AD%E6%90%AD%E5%BB%BA%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB%E7%9A%84Doris%E9%9B%86%E7%BE%A4/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2025/01/03/%E9%80%9A%E8%BF%87%E4%B8%80%E6%AC%A1%E6%8A%93%E5%8C%85%E6%9D%A5%E6%8E%8C%E6%8F%A1memcached/">通过一次抓包来掌握memcached</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>January 3, 2025</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>, 
      <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/memcached/">Memcached</a>, 
      <a href="/tags/tcpdump/">Tcpdump</a>, 
      <a href="/tags/wireshark/">Wireshark</a>, 
      <a href="/tags/Rendezvous-Hashing/">Rendezvous Hashing</a>
  </div>
  


    <p><h2 id="什么是-memcachedhttpsmemcachedorg">
  什么是 <a href="https://memcached.org/">memcached</a>
  <a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af-memcachedhttpsmemcachedorg">#</a>
</h2>
<p>memcached 是一个高性能的“分布式”内存对象缓存系统，用于动态 Web 应用以减轻数据库负载。它通过在内存中缓存数据和对象来减少读取数据库的次数，从而提高动态、数据库驱动网站的速度。memcached 是自由软件，以 BSD 许可证发布。</p>
<p>相比于大家熟知的 Redis，memcached 更加简单，只支持 key-value 存储，而 Redis 支持更多的数据结构，如 list、set、hash 等。</p>
<blockquote>
<p>Github 地址：<a href="https://github.com/memcached/memcached">https://github.com/memcached/memcached</a></p>
</blockquote>
<h3 id="为什么有-redis-还要使用-memcached">
  为什么有 redis 还要使用 memcached
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%9c%89-redis-%e8%bf%98%e8%a6%81%e4%bd%bf%e7%94%a8-memcached">#</a>
</h3>
<p>从我个人的角度来说，要在采用一个缓存系统的时候，我会优先选择 Redis，因为 Redis 功能更加强大，支持更多的数据结构，而且 Redis 也支持持久化，在高可用和分布式部分的设计上也更加完善。</p>
<p>但是 memcached 也有自己的优势，比如更加简单，更加轻量级，更加容易上手，因此在某些系统中也会选用 memcached。因此，了解 memcached 的设计也是有必要的。</p>
<h2 id="memcached-协议概览">
  memcached 协议概览
  <a class="anchor" href="#memcached-%e5%8d%8f%e8%ae%ae%e6%a6%82%e8%a7%88">#</a>
</h2>
<p>memcached 支持基本的文本协议和<a href="https://docs.memcached.org/protocols/meta/">元文本协议</a>，其中元文本协议于 2019 年推出。memcached 还曾支持过二进制协议，但已经被废弃。</p>
<blockquote class="book-hint info">
<p>memcached 的协议是基于文本的，因此我们可以通过 telnet 或者 netcat 工具来模拟 memcached 的客户端，从而方便的进行测试。</p>
<p>这两者是 “交叉兼容” 的，也就是说我们可以通过 <em><strong>文本协议来设置键值</strong></em>, 通过 <em><strong>元文本协议来查询</strong></em>，反之亦然。</p>
</blockquote>
<h3 id="standard-text-protocol">
  Standard Text Protocol
  <a class="anchor" href="#standard-text-protocol">#</a>
</h3>
<blockquote>
<p>详细的协议文档可以参考：<a href="https://github.com/memcached/memcached/blob/master/doc/protocol.txt">https://github.com/memcached/memcached/blob/master/doc/protocol.txt</a></p>
</blockquote>
<p>memcached 的标准文本协议是一个基于文本的协议，它使用 ASCII 字符串来进行通信。memcached 服务器监听在默认端口 11211 上，客户端通过 TCP 连接到服务器，然后发送命令和数据。因此我们可以很容易的通过 telnet 工具就可以完成 memcached 的基本操作。</p>
        <a href="/2025/01/03/%E9%80%9A%E8%BF%87%E4%B8%80%E6%AC%A1%E6%8A%93%E5%8C%85%E6%9D%A5%E6%8E%8C%E6%8F%A1memcached/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2024/12/17/%E8%BF%91%E6%9C%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/">近期的一些经验总结</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>December 17, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/CDC/">CDC</a>, 
      <a href="/tags/DMS/">DMS</a>, 
      <a href="/tags/Istio/">Istio</a>, 
      <a href="/tags/APISIX/">APISIX</a>, 
      <a href="/tags/ShardingSphere-Proxy/">ShardingSphere Proxy</a>, 
      <a href="/tags/Kafka/">Kafka</a>, 
      <a href="/tags/Kafka-Connect/">Kafka Connect</a>, 
      <a href="/tags/Doris/">Doris</a>, 
      <a href="/tags/Pyroscope/">Pyroscope</a>
  </div>
  


    <p><blockquote class="book-hint info">
<p>这里不会过多的介绍软件的相关概念和架构，主要是针对实际问题的解决方案和思考。</p>
</blockquote>
<h3 id="问题汇总">
  问题汇总
  <a class="anchor" href="#%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb">#</a>
</h3>
<ul>
<li>
<p>CDC 相关</p>
<ul>
<li><a href="#11-cdc-kafka-connect-mysql-sink-%e4%be%a7%e6%b6%88%e8%b4%b9%e7%a7%af%e5%8e%8b%e9%97%ae%e9%a2%98">CDC kafka-connect mysql sink 侧消费积压问题</a></li>
<li><a href="#12-cdc-kafka-connect-mysql-source-%e4%be%a7%e5%88%a0%e9%99%a4%e4%ba%8b%e4%bb%b6%e6%8a%95%e9%80%92%e4%ba%86%e4%b8%a4%e6%9d%a1%e4%ba%8b%e4%bb%b6%e5%af%bc%e8%87%b4%e5%88%a0%e9%99%a4%e5%8a%a8%e4%bd%9c%e6%95%b0%e6%8d%ae%e9%87%8f%e8%a2%ab%e6%94%be%e5%a4%a7">CDC kafka-connect mysql source 侧删除事件投递了两条事件，导致删除动作数据量被放大</a></li>
<li><a href="#13-cdc-kafka-connect-mongodb-%e6%95%b0%e6%8d%ae%e5%90%8c%e6%ad%a5%e4%bb%bb%e5%8a%a1%e5%bc%82%e5%b8%b8%e6%b6%88%e6%81%af%e8%b6%85%e8%bf%87-1mb-">CDC kafka-connect mongodb 数据同步任务异常（消息超过 1MB ）</a></li>
</ul>
<blockquote>
<p>更新于: 2025-02-06</p>
</blockquote>
<ul>
<li><a href="#14-cdc-elasticsearch-sink-%e6%80%8e%e4%b9%88%e8%87%aa%e5%ae%9a%e4%b9%89%e7%b4%a2%e5%bc%95%e5%90%8d%e7%a7%b0">CDC Elasticsearch sink 怎么自定义索引名称？</a></li>
<li><a href="#15-%e8%87%aa%e5%ae%9a%e4%b9%89-messagetimestamprouter-%e5%ae%9e%e7%8e%b0%e5%8a%a8%e6%80%81%e7%b4%a2%e5%bc%95%e5%90%8d%e7%a7%b0">自定义 transform 实现自定义索引名称</a></li>
</ul>
<blockquote>
<p>更新于：2025-10-11</p>
</blockquote>
<ul>
<li><a href="#16-cdc-kafka-connect-mongodb-%e4%be%a7%e5%8f%8d%e5%a4%8d%e8%bf%9b%e8%a1%8c-%e5%bf%ab%e7%85%a7-%e5%af%bc%e8%87%b4%e6%95%b0%e6%8d%ae%e5%90%8c%e6%ad%a5%e5%bc%82%e5%b8%b8">CDC kafka-connect mongodb 侧反复进行 “快照” 导致数据同步异常</a></li>
</ul>
</li>
<li>
<p>DMS 数据同步相关</p>
<ul>
<li><a href="#21-%e6%95%b0%e6%8d%ae%e8%bf%81%e7%a7%bb%e5%ae%8c%e6%88%90%e5%90%8e%e6%80%8e%e4%b9%88%e5%af%b9%e6%af%94%e6%ba%90%e6%95%b0%e6%8d%ae%e5%92%8c%e7%9b%ae%e6%a0%87%e6%95%b0%e6%8d%ae%e6%98%af%e5%90%a6%e4%b8%80%e8%87%b4">数据迁移完成后，怎么对比源数据和目标数据是否一致？</a></li>
<li><a href="#22-%e5%a6%82%e6%9e%9c%e4%b8%8d%e4%b8%80%e8%87%b4%e6%80%8e%e4%b9%88%e5%a4%84%e7%90%86">如果不一致怎么处理？</a></li>
</ul>
</li>
<li>
<p>Istio 相关</p>
<ul>
<li><a href="#31-istio-%e4%b8%ad%e5%a4%9a%e4%b8%aa-gateway-%e4%bd%bf%e7%94%a8%e7%9b%b8%e5%90%8c-hostanalyze-%e6%98%af%e6%8f%90%e7%a4%ba%e9%94%99%e8%af%af">Istio 中多个 gateway 使用相同 host，analyze 是提示错误</a></li>
<li><a href="#32-istio-%e4%b8%ad%e4%b8%80%e4%b8%aa%e6%9c%8d%e5%8a%a1%e6%8f%90%e4%be%9b%e4%ba%86%e5%a4%9a%e4%b8%aa%e7%ab%af%e5%8f%a3%e7%9a%84%e6%9c%8d%e5%8a%a1%e6%80%8e%e4%b9%88%e9%85%8d%e7%bd%ae-virtual-service-">Istio 中一个服务提供了多个端口的服务，怎么配置 Virtual Service ？</a></li>
</ul>
</li>
<li>
<p>APISIX 相关</p>
<ul>
<li><a href="#41-%e4%bd%bf%e7%94%a8-apisix-%e4%bd%9c%e4%b8%ba%e7%bd%91%e5%85%b3%e6%80%8e%e4%b9%88%e8%bf%9b%e8%a1%8c%e6%9c%89%e6%9d%a1%e4%bb%b6%e7%9a%84%e5%93%8d%e5%ba%94%e9%87%8d%e5%86%99">使用 APISIX 作为网关，怎么进行有条件的响应重写？</a></li>
<li><a href="#42-apisix-%e6%8f%92%e4%bb%b6%e7%9a%84%e6%89%a7%e8%a1%8c%e9%a1%ba%e5%ba%8f%e6%98%af%e6%80%8e%e4%b9%88%e6%a0%b7%e7%9a%84">APISIX 插件的执行顺序是怎么样的？</a></li>
</ul>
</li>
<li>
<p>ShardingSphere Proxy</p>
<ul>
<li><a href="#51-hint%e7%ad%96%e7%95%a5-%e5%9c%a8-shardingsphere-proxy-%e4%b8%ad%e7%9a%84%e4%bd%bf%e7%94%a8">HINT策略 在 ShardingSphere Proxy 中的使用</a></li>
</ul>
</li>
<li>
<p>Kafka 相关</p>
        <a href="/2024/12/17/%E8%BF%91%E6%9C%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2024/08/18/shardingsphere-proxy%E9%97%AE%E9%A2%98%E5%87%A0%E5%88%99/">ShardingSphere-Proxy问题几则</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>August 18, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>, 
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>, 
      <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/shardingsphere/">Shardingsphere</a>, 
      <a href="/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">分库分表</a>, 
      <a href="/tags/MySQL/">Mysql</a>, 
      <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
  </div>
  


    <p><p>ShardingSphere Proxy 是 Apache ShardingSphere 的一个子项目，是一个基于 MySQL 协议的数据库中间件，用于实现分库分表、读写分离等功能。在使用过程中，遇到了一些问题，记录如下。</p>
<blockquote>
<p>这里主要针对的是 分库分表 的使用场景。</p>
</blockquote>
<h3 id="问题概述">
  问题概述
  <a class="anchor" href="#%e9%97%ae%e9%a2%98%e6%a6%82%e8%bf%b0">#</a>
</h3>
<p>数据库往往是一个系统最容易出现瓶颈的点，当遇到数据库瓶颈时，我们可以通过数据拆分来缓解问题。数据拆分的方式通常分为横向拆分和纵向拆分，横向拆分即分库分表；纵向拆分即把一个库表中的字段拆分到不同的库表中去。这两种手段并不互斥，而是在实际情况中相辅相成。本文即是横向拆分相关内容。</p>
<ul>
<li>常见的部署方式有哪些？</li>
<li>数据分片规则怎么配置？</li>
<li>数据分片数应该怎么确定？</li>
<li>数据分片后唯一索引还有用吗？</li>
<li>数据分片后数据迁移？</li>
<li>数据分片后如何确定实际执行 SQL 语句？</li>
<li>数据分片后的查询优化？</li>
</ul>
<h3 id="0-常见的部署方式">
  0. 常见的部署方式
  <a class="anchor" href="#0-%e5%b8%b8%e8%a7%81%e7%9a%84%e9%83%a8%e7%bd%b2%e6%96%b9%e5%bc%8f">#</a>
</h3>
<p>官方提供了两种部署方式：</p>
<ul>
<li>单机部署：将 ShardingSphere Proxy 部署在单台服务器上，用于测试和开发环境。</li>
<li>集群部署：将 ShardingSphere Proxy 部署在多台服务器上，用于生产环境。集群模式下使用 zookeeper 来存储元数据。</li>
</ul>
<blockquote>
<p>关于元数据，元数据是 ShardingSphere Proxy 的核心，用于存储分库分表规则、读写分离规则等信息。
官方建议使用集群模式部署 生产环境的 ShardingSphere Proxy</p>
</blockquote>
<p>如果不按照官方的指引，选择部署了多个 Standalone 模式的 ShardingSphere Proxy，那么需要注意“<em><strong>每个这样的 proxy 节点会有自己的元信息，他们之间并不互通</strong></em>”。在这些情况下会出现节点之间元数据不一致的问题，参看如下测试：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 启动 3 个 standalone 模式的 ShardingSphere Proxy</span>
</span></span><span style="display:flex;"><span>                                          +-------+
</span></span><span style="display:flex;"><span>                                          |  LB   |
</span></span><span style="display:flex;"><span>                                          +-------+
</span></span><span style="display:flex;"><span>                                              |
</span></span><span style="display:flex;"><span>                                |-------------|--------------|
</span></span><span style="display:flex;"><span>                                |             |              |
</span></span><span style="display:flex;"><span>                            +-------+     +-------+       +-------+
</span></span><span style="display:flex;"><span>                            | Node1 |     | Node2 |       | Node3 |
</span></span><span style="display:flex;"><span>                            +-------+     +-------+       +-------+
</span></span></code></pre></div><p>初始表结构如下：</p>
        <a href="/2024/08/18/shardingsphere-proxy%E9%97%AE%E9%A2%98%E5%87%A0%E5%88%99/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/2024/02/26/nats%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">Nats设计与实现</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>February 26, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>, 
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="/tags/nats/">Nats</a>, 
      <a href="/tags/Golang/">Golang</a>, 
      <a href="/tags/MQ/">MQ</a>, 
      <a href="/tags/raft/">Raft</a>, 
      <a href="/tags/multi-raft/">Multi-Raft</a>
  </div>
  


    <p><h3 id="nats设计与实现">
  NATS设计与实现
  <a class="anchor" href="#nats%e8%ae%be%e8%ae%a1%e4%b8%8e%e5%ae%9e%e7%8e%b0">#</a>
</h3>
<blockquote>
<p><a href="https://github.com/nats-io/nats-sevrer">https://github.com/nats-io/nats-sevrer</a></p>
</blockquote>
<p>NATS 就是一个消息中间件，提供了 Pub/Sub 核心数据流，并基于此构建了 Request/Reply API 和 JetStream 用来提供可靠的分布式存储能力，和更高的 QoS（至少一次 + ACK）。</p>
<img src="/images/nats/Pasted%20image%2020240219151629.png" style="width: 50%" />
        <a href="/2024/02/26/nats%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">...</a>
      
    </p>
  </article>
  

  
    <ul class="pagination pagination-default">
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="First" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="Previous" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/page/2/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/page/4/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">






<div class="flex align-center">
    <span id="busuanzi_container_site_pv" style="margin-right: 10px;">
        访问量<span id="busuanzi_value_site_pv"></span>
    </span>
    <span id="busuanzi_container_site_uv" style="margin-right: 10px;">
        访客数<span id="busuanzi_value_site_uv"></span>
    </span>
</div></div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/">技术总结</a>
          <span>32</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Kubernetes/">Kubernetes</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Service-Mesh/">Service Mesh</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Golang/">Golang</a>
          <span>11</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/design/">Design</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Tracing/">Tracing</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/DevOps/">DevOps</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/Test/">Test</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/categories/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">常用命令</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/tags/Debezium/">Debezium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Incremental-Snapshot/">Incremental Snapshot</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka-Connect/">Kafka Connect</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Mongodb/">Mongodb</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Source-Connector/">Source Connector</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Apache-Doris/">Apache Doris</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MySQL/">Mysql</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Prepared-Statements/">Prepared Statements</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kafka/">Kafka</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MirrorMaker2/">MirrorMaker2</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Replication/">Replication</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Javascript/">Javascript</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/python/">Python</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rust/">Rust</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WASM/">WASM</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/WebAssembly/">WebAssembly</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/gRPC/">GRPC</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/grpcreplay/">Grpcreplay</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Istio/">Istio</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Kubernetes/">Kubernetes</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/sidecar/">Sidecar</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/traffic-mirror/">Traffic Mirror</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%8D%8F%E8%AE%AE/">协议</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Doris/">Doris</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/FoundationDB/">FoundationDB</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%AD%98%E7%AE%97%E5%88%86%E7%A6%BB/">存算分离</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memcached/">Memcached</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Rendezvous-Hashing/">Rendezvous Hashing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcpdump/">Tcpdump</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/wireshark/">Wireshark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/APISIX/">APISIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CDC/">CDC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DMS/">DMS</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pyroscope/">Pyroscope</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShardingSphere-Proxy/">ShardingSphere Proxy</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/shardingsphere/">Shardingsphere</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">分库分表</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Envoy/">Envoy</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/kubenertes/">Kubenertes</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/service-mesh/">Service Mesh</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Golang/">Golang</a>
          <span>29</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/MQ/">MQ</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/multi-raft/">Multi-Raft</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/nats/">Nats</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/raft/">Raft</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fsnotify/">Fsnotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/inotify/">Inotify</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/linux/">Linux</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/c/">C</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/lua/">Lua</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/redis/">Redis</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/exec/">Exec</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/fork/">Fork</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Graceful-Restart/">Graceful Restart</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/tcp/">TCP</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Cloudflare/">Cloudflare</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/SSH/">SSH</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tunnel/">Tunnel</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CGO/">CGO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/POSIX/">POSIX</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CronJob/">CronJob</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed/">Distributed</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/k8s/">K8s</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Fieldmask/">Fieldmask</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/protocol-buffers/">Protocol-Buffers</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/OpenTelemetry/">OpenTelemetry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Sentry/">Sentry</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tools/">Tools</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Load-Balancing/">Load Balancing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker/">Docker</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E9%95%9C%E5%83%8F/">镜像</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jaeger/">Jaeger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Opentracing/">Opentracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Tracing/">Tracing</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Channel/">Channel</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/goim/">Goim</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Gin/">Gin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/memory-leak/">Memory Leak</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/pprof/">Pprof</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hashtable/">Hashtable</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/im/">Im</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/socket.io/">Socket.io</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/cache/">Cache</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/repository/">Repository</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/AMQP/">AMQP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%8B%86%E5%8C%85/">拆包</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E7%B2%98%E5%8C%85/">粘包</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Ring-Buffer/">Ring Buffer</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Algorithm/">Algorithm</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Caching/">Caching</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU/">LRU</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LRU-K/">LRU-K</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Crypto/">Crypto</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RC4/">RC4</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/snowflake/">Snowflake</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/hot-reload/">Hot-Reload</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Swagger/">Swagger</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/QR-Code/">QR Code</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/etcd/">Etcd</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/microservice/">Microservice</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0/">服务注册发现</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/DTO/">DTO</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/HTTP/">HTTP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Note/">Note</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/api-gateway/">Api-Gateway</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/round-robin/">Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/weighted-round-robin/">Weighted-Round-Robin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/JSON-RPC2.0/">JSON-RPC2.0</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RPC/">RPC</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/App/">App</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/RN/">RN</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Spider/">Spider</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CD/">CD</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/CI/">CI</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Jenkins/">Jenkins</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Distributed-Architecture/">Distributed Architecture</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/aliyun/">Aliyun</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/rds/">Rds</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Trie/">Trie</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Dynamic-Programming/">Dynamic Programming</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Levenshtein-Distance/">Levenshtein Distance</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/ShortURL/">ShortURL</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/drone/">Drone</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/docker-compose/">Docker Compose</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/selenium/">Selenium</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Test/">Test</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pytest/">Pytest</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Git/">Git</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/database/">Database</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/index/">Index</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>

 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












